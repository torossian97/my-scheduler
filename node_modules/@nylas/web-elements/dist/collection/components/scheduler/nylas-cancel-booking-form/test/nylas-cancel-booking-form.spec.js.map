{"version":3,"file":"nylas-cancel-booking-form.spec.js","sourceRoot":"","sources":["../../../../../src/components/scheduler/nylas-cancel-booking-form/test/nylas-cancel-booking-form.spec.tsx"],"names":[],"mappings":"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","sourcesContent":["import { newSpecPage } from '@stencil/core/testing';\nimport { NylasCancelBookingForm } from '../nylas-cancel-booking-form';\n\ndescribe('nylas-cancel-booking-form', () => {\n  beforeEach(() => {\n    // Clear and reset the mock before each test if needed\n    jest.clearAllMocks();\n  });\n\n  it('renders correctly with initial state', async () => {\n    const page = await newSpecPage({\n      components: [NylasCancelBookingForm],\n      html: `<nylas-cancel-booking-form></nylas-cancel-booking-form>`,\n    });\n\n    expect(page.root).toMatchSnapshot();\n  });\n  it('emits goBackButtonClicked event on \"Go back\" button click', async () => {\n    const page = await newSpecPage({\n      components: [NylasCancelBookingForm],\n      html: `<nylas-cancel-booking-form></nylas-cancel-booking-form>`,\n    });\n\n    const spyEvent = jest.fn();\n    page.win.addEventListener('goBackButtonClicked', spyEvent);\n\n    const backButton = page?.root?.shadowRoot?.querySelector('.back') as HTMLButtonElement;\n    backButton.click();\n\n    await page.waitForChanges();\n\n    expect(spyEvent).toHaveBeenCalled();\n  });\n  it('emits cancelBookingFormSubmitted event with details on form submission', async () => {\n    const page = await newSpecPage({\n      components: [NylasCancelBookingForm],\n      html: `<nylas-cancel-booking-form cancel-booking-id=\"123\"></nylas-cancel-booking-form>`,\n    });\n\n    page.rootInstance.cancellationReason = 'Changed my mind';\n    await page.waitForChanges();\n\n    const spyEvent = jest.fn();\n    page.win.addEventListener('cancelBookingFormSubmitted', spyEvent);\n\n    const form = page?.root?.shadowRoot?.querySelector('form') as HTMLFormElement;\n    form.dispatchEvent(new Event('submit'));\n\n    await page.waitForChanges();\n\n    expect(spyEvent).toHaveBeenCalledWith(\n      expect.objectContaining({\n        detail: {\n          bookingId: '123',\n          reason: 'Changed my mind',\n          errorHandler: expect.any(Function),\n        },\n      }),\n    );\n  });\n  it('displays error and emits cancelBookingFormError when cancellation reason is not provided', async () => {\n    const page = await newSpecPage({\n      components: [NylasCancelBookingForm],\n      html: `<nylas-cancel-booking-form></nylas-cancel-booking-form>`,\n    });\n\n    const spyEvent = jest.fn();\n    page.win.addEventListener('cancelBookingFormError', spyEvent);\n\n    const form = page?.root?.shadowRoot?.querySelector('form') as HTMLFormElement;\n    form.dispatchEvent(new Event('submit'));\n\n    await page.waitForChanges();\n\n    expect(page.rootInstance.cancellationError).toBe('Please provide a reason for cancellation.');\n    expect(spyEvent).toHaveBeenCalled();\n  });\n});\n"]}