{"version":3,"file":"nylas-booking-calendar-picker.spec.js","sourceRoot":"","sources":["../../../../../src/components/scheduler-editor/nylas-booking-calendar-picker/test/nylas-booking-calendar-picker.spec.tsx"],"names":[],"mappings":"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","sourcesContent":["import { newSpecPage } from '@stencil/core/testing';\nimport { NylasBookingCalendarPicker } from '../nylas-booking-calendar-picker';\nimport { h } from '@stencil/core';\nimport { Calendar } from '@nylas/core';\nimport { SelectDropdown } from '../../../design-system/select-dropdown/select-dropdown';\nconst calendars: Calendar[] = [\n  {\n    id: 'new-calendar-id',\n    name: 'New Calendar',\n    grant_id: 'new-grant-id',\n    hex_color: '#000000',\n    hex_foreground_color: '#FFFFFF',\n    is_primary: false,\n    is_owned_by_user: true,\n    read_only: false,\n    timezone: 'America/Toronto',\n    object: 'calendar',\n  },\n  {\n    id: 'another-new-calendar-id',\n    name: 'Another New Calendar',\n    grant_id: 'new-grant-id',\n    hex_color: '#000000',\n    hex_foreground_color: '#FFFFFF',\n    is_primary: false,\n    is_owned_by_user: true,\n    read_only: false,\n    timezone: 'America/Toronto',\n    object: 'calendar',\n  },\n];\n\ndescribe('nylas-calendar-picker', () => {\n  let nylasBookingCalendarPicker: NylasBookingCalendarPicker;\n  let page: any;\n  beforeEach(async () => {\n    page = await newSpecPage({\n      components: [NylasBookingCalendarPicker, SelectDropdown],\n      template: () => {\n        return (\n          <nylas-booking-calendar-picker name=\"calendar\" calendars={calendars} defaultBookingCalendar={calendars[0].id}>\n            <select-dropdown name=\"booking-calendar\"></select-dropdown>\n          </nylas-booking-calendar-picker>\n        );\n      },\n    });\n    nylasBookingCalendarPicker = page.rootInstance as NylasBookingCalendarPicker;\n  });\n\n  it('renders', async () => {\n    expect(page.root).toMatchSnapshot();\n  });\n\n  it('selects default calendar', async () => {\n    const selectDropdownButton = page.root.shadowRoot.querySelector('select-dropdown').shadowRoot.querySelector('button');\n    expect(selectDropdownButton.textContent).toBe('New Calendar');\n  });\n\n  it('selects calendar', async () => {\n    const spyEvent = jest.fn();\n    nylasBookingCalendarPicker.valueChanged = {\n      emit: spyEvent,\n    };\n    const mockEvent = new CustomEvent('selectedOptionChanged', {\n      detail: { value: 'another-new-calendar-id', name: 'booking-calendar' },\n      bubbles: true,\n      composed: true,\n    });\n    nylasBookingCalendarPicker.selectedOptionChangedHandler(mockEvent);\n    expect(spyEvent).toHaveBeenCalled();\n  });\n\n  it('selects the first available calendar if defaultBookingCalendar is not provided', async () => {\n    page = await newSpecPage({\n      components: [NylasBookingCalendarPicker, SelectDropdown],\n      template: () => {\n        return (\n          <nylas-booking-calendar-picker name=\"calendar\" calendars={calendars}>\n            <select-dropdown name=\"booking-calendar\"></select-dropdown>\n          </nylas-booking-calendar-picker>\n        );\n      },\n    });\n    nylasBookingCalendarPicker = page.rootInstance as NylasBookingCalendarPicker;\n    const selectDropdownButton = page.root.shadowRoot.querySelector('select-dropdown').shadowRoot.querySelector('button');\n    expect(selectDropdownButton.textContent).toBe('New Calendar');\n  });\n});\n"]}