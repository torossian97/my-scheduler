import{r as t,c as i,h as n,H as e,a as s}from"./p-68c2fadf.js";import{R as o}from"./p-8b53becf.js";import{a}from"./p-01e86103.js";import"./p-cb65c223.js";const r=":host{display:contents}.container{height:var(--container-height, 100dvh);overflow-y:var(--container-overflow-y, auto)}.pagination{display:flex;justify-content:center;align-items:center;margin:0 auto;padding:0;list-style:none;font-size:0.875rem;font-weight:600;color:var(--nylas-color-primary-600)}.pagination sp-button svg{animation:rotate 1s linear infinite}sp-button{border-radius:var(--nylas-border-radius);background-color:var(--nylas-color-primary-400);color:var(--nylas-color-primary-900);fill:var(--nylas-color-primary-900)}sp-button:hover{background-color:var(--nylas-color-primary-500)}sp-button:disabled{background-color:var(--nylas-color-primary-200);color:var(--nylas-color-primary-600);cursor:not-allowed}sp-button chevron-icon svg{width:15px;height:15px}.next chevron-icon{transform:rotate(180deg)}@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}";const l=r;var c=undefined&&undefined.__decorate||function(t,i,n,e){var s=arguments.length,o=s<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,n):e,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,i,n,e);else for(var r=t.length-1;r>=0;r--)if(a=t[r])o=(s<3?a(o):s>3?a(i,n,o):a(i,n))||o;return s>3&&o&&Object.defineProperty(i,n,o),o};var h=undefined&&undefined.__metadata||function(t,i){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(t,i)};const d=class{constructor(n){t(this,n);this.next=i(this,"next",7);this.previous=i(this,"previous",7);this.state="ready";this.hasNextPage=false;this.hasPreviousPage=false;this.scrollTarget="container";this.mobileOnlyInfiniteScroll=true;this.mobileViewPortWidth=768;a(`[nylas-pagination] Constructed`);this.isScrollAtContainerBottom=this.isScrollAtContainerBottom.bind(this);this.isScrollAtPageBottom=this.isScrollAtPageBottom.bind(this);this.nextPage=this.nextPage.bind(this);this.previousPage=this.previousPage.bind(this);this.handlePageScroll=this.handlePageScroll.bind(this);this.handleContainerScroll=this.handleContainerScroll.bind(this)}connectedCallback(){a(`[nylas-pagination] Component connected`)}async componentWillLoad(){a(`[nylas-pagination] Component will load`)}async componentDidLoad(){a(`[nylas-pagination] Component did load`);if(this.containerElement){this.containerElement.addEventListener("scroll",this.handleContainerScroll)}}async componentWillRender(){a(`[nylas-pagination] Component will render`)}disconnectedCallback(){a(`[nylas-pagination] Component disconnected`);if(this.containerElement){this.containerElement.removeEventListener("scroll",this.handleContainerScroll)}}handlePageScroll(t){if(this.isScrollAtPageBottom()&&this.canScroll&&this.scrollTarget==="page"){this.nextPage()}}async nextPage(){const t=this.host.children.length>0;this.next.emit({hasChildren:t})}async previousPage(){const t=this.host.children.length>0;this.previous.emit({hasChildren:t})}handleContainerScroll(t){if(this.isScrollAtContainerBottom()&&this.canScroll&&this.scrollTarget==="container"){this.nextPage()}}isScrollAtContainerBottom(){if(!this.containerElement){return false}return this.containerElement&&this.containerElement.scrollTop+this.containerElement.clientHeight>=this.containerElement.scrollHeight}isScrollAtPageBottom(){return window.innerHeight+window.scrollY>=document.body.offsetHeight}get canScroll(){const t=this.host.children.length>0;return this.state==="ready"&&t&&(!this.mobileOnlyInfiniteScroll||window.innerWidth<this.mobileViewPortWidth)}render(){const t=this.host.children.length>0;if(t){return n(e,null,n("div",{class:"container",ref:t=>this.containerElement=t},n("slot",null),this.canScroll&&n("div",{class:"pagination"},n("sp-theme",{scale:"medium",color:"dark"},this.state==="ready"&&this.hasNextPage&&n("sp-button",{onClick:this.nextPage},n("div",{slot:"icon"},n("refresh-icon",{class:"refres-icon"}))," ","Load more...")))))}return n(e,null,n("sp-theme",{scale:"medium",color:"dark"},this.hasPreviousPage&&n("sp-button",{class:"previous",parr:"previous",onClick:this.previousPage},n("div",{slot:"icon"},n("chevron-icon",{class:"previous-icon"}))," ","Previous"),this.hasPreviousPage&&this.hasNextPage&&" ",this.hasNextPage&&n("sp-button",{class:"next",parr:"next",onClick:this.nextPage},n("div",{slot:"icon"},n("chevron-icon",{class:"next-icon"}))," ","Next")))}get host(){return s(this)}};c([o({name:"nylas-pagination",stateToProps:new Map([["mailbox.hasNextThreadPage","hasNextPage"],["mailbox.hasPreviousThreadPage","hasPreviousPage"],["mailbox.state","state"]]),eventToProps:{next:async(t,i)=>{a(`[nylas-pagination] Next page event fired`);const{hasChildren:n}=t.detail;await i.threads.nextThreadPage(n?"append":"overwrite",!n)},previous:async(t,i)=>{a(`[nylas-pagination] Previous page event fired`);const{hasChildren:n}=t.detail;await i.threads.previousThreadPage(n?"append":"overwrite",!n)}},fireRegisterEvent:true}),h("design:type",Function),h("design:paramtypes",[]),h("design:returntype",void 0)],d.prototype,"render",null);d.style=l;export{d as nylas_mailbox_pagination};
//# sourceMappingURL=p-78e7f732.entry.js.map