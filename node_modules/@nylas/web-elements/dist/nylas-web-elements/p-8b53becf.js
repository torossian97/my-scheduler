import{a as e,e as t}from"./p-01e86103.js";import{a as n}from"./p-68c2fadf.js";function r(e,t,n="registerComponent"){return new CustomEvent(n,{bubbles:true,composed:true,detail:t})}function o(e,t,n="unregisterComponent"){return new CustomEvent(n,{bubbles:true,composed:true,detail:t})}function s(s){return(c,i)=>{const u=s.name;e(`[${u}] Registering component ${u} being called on ${i}`);const a=c.componentWillLoad;if(!a){t(`[${u}] componentWillLoad lifecycle method in ${u} missing. Required for RegisterComponent decorator.`);return}const l=c.connectedCallback;if(!l){t(`[${u}] connectedCallback lifecycle method in ${u} missing. Required for RegisterComponent decorator.`);return}const p=c.disconnectedCallback;if(!p){t(`[${u}] disconnectedCallback lifecycle method in ${u} missing. Required for RegisterComponent decorator.`);return}if(s.storeToProps&&s.stateToProps){const e=Array.from(s.storeToProps.values());const n=Array.from(s.stateToProps.values());const r=e.filter((e=>n.includes(e)));if(r.length>0){t(`[${u}] Overlapping prop keys detected in ${u} for storeToProps and stateToProps. Make sure to only define them once. Overlapping keys: ${r.join(", ")}`);return}}const m=new Map;if(s.eventToProps){Object.keys(s.eventToProps).forEach((e=>{m.set(e,s.eventToProps?.[e])}))}c.connectedCallback=function(){e(`[~${u}] connectedCallback called`);const t=l?.call(this);const r=n(this);if(r.dataset.nylasId){return t}Object.defineProperty(r,"registerNylasComponent",{get(){return true},enumerable:true});Object.defineProperty(r,"stateToProps",{get(){return s.stateToProps},enumerable:true});Object.defineProperty(r,"getStoresToProp",{get(){return s.getStoresToProp},enumerable:true});Object.defineProperty(r,"storeToProps",{get(){return s.storeToProps},enumerable:true});Object.defineProperty(r,"eventToProps",{get(){return m},enumerable:true});Object.defineProperty(r,"authToProp",{get(){return s.authToProp},enumerable:true});Object.defineProperty(r,"connectorToProp",{get(){return s.connectorToProp},enumerable:true});Object.defineProperty(r,"localPropsToProp",{get(){return s.localPropsToProp},enumerable:true});return t};if(s.fireRegisterEvent){c.componentWillLoad=function(){const t=a?.call(this);const o=n(this);const i={element:o,...s,eventToProps:m};const l=r(c,i,s.registrationEventName);if(o.dispatchEvent(l)){e(`[${u}] Component ${u} successfully fired registration event`)}return t};c.disconnectedCallback=function(){const t=p?.call(this);const r=n(this);const i={element:r,...s,eventToProps:m};const a=o(c,i,s.unregistrationEventName);if(r.dispatchEvent(a)){e(`[${u}] Component ${u} successfully fired unregistration event`)}return t}}}}export{s as R};
//# sourceMappingURL=p-8b53becf.js.map