{"version":3,"names":["iconCss","AddCircleIconStyle0","AddCircleIcon","render","h","key","width","this","height","fill","xmlns","d","buttonComponentCss","ButtonComponentStyle0","ButtonComponent","className","variant","disabled","class","type","onClick","clickHandler","onMouseOver","mouseOverHandler","onMouseOut","mouseOutHandler","onFocus","focusHandler","onBlur","blurHandler","CalendarInfoIconStyle0","CalendarInfoIcon","CalendarPatternsIconStyle0","CalendarPatternsIcon","FlowIconStyle0","FlowIcon","LocationIconStyle0","LocationIcon","LocationOffIconStyle0","LocationOffIcon","multiSelectDropdownCss","MultiSelectDropdownStyle0","MultiSelectDropdown","options","componentDidRender","debug","isOpen","shouldFocusFirstOption","ariaActivedescendant","availableOptions","value","focusOption","handleOutsideClick","event","path","composedPath","isClickInside","includes","el","selectOption","option","map","o","selected","selectedOptions","filter","selectedOptionsChanged","emit","name","toggleDropdown","handleSelectButtonKeyDown","preventDefault","handleListboxKeydown","e","items","currentIndex","findIndex","item","shiftKey","nextIndex","length","prevIndex","index","elementId","element","shadowRoot","getElementById","focus","scrollIntoView","behavior","block","getSelectedOptions","renderOption","id","role","tabindex","stopImmediatePropagation","htmlFor","checked","label","Host","part","dropbtn","open","onKeyDown","nylasAvailabilityPickerCss","NylasAvailabilityPickerStyle0","NylasAvailabilityPicker","Intl","DateTimeFormat","resolvedOptions","timeZone","SUN","MON","start","end","TUE","WED","THU","FRI","SAT","elementNameChangedHandler","newValue","host","setAttribute","configChangedHandler","newConfig","organizer","participants","find","p","is_organizer","availability","open_hours","openHoursToSchedule","scheduleChanged","oldValue","valueChanged","openHours","scheduleToOpenHours","timezone","overlapDays","Object","keys","forEach","dayTimeRanges","overlaps","getOverlaps","internals","setFormValue","setValidity","customError","JSON","stringify","schedule","selectedOptionChangedHandler","detail","connectedCallback","disconnectedCallback","componentWillLoad","componentDidLoad","timeRanges","timeRangesInMinutes","range","timeToMinutes","originalIndex","sort","a","b","i","push","addTimeRange","day","currentTimeRanges","dayStart","dayEnd","lastRangeEnd","convertTo12HourFormat","minutesToTime","gapFound","currentEnd","nextStart","removeTimeRange","splice","setTime","console","log","dayIndex","timeType","split","setFormError","_","newSchedule","openHour","days","dayKey","getDayKey","start12hr","end12hr","timeRange","timeRangeExists","some","defaultTimezone","dayKeys","openHoursMap","Map","start24hr","convertTo24HourFormat","end24hr","has","set","entry","get","selectedOpenHours","_key","timezoneOptions","TIMEZONE_MAP","slot","exportparts","defaultSelectedOption","timeRangeIndex","startKey","endKey","hasError","time","minimumStartTime","__decorate","RegisterComponent","stateToProps","fireRegisterEvent","nylasBookingCalendarPickerCss","NylasBookingCalendarPickerStyle0","NylasBookingCalendarPicker","defaultBookingCalendar","currentUser","email","toString","selectedCalendar","componentWillUpdate","componentDidUpdate","componentWillRender","calendarOptions","calendars","calendar","withSearch","cal","eventToProps","async","_nylasSchedulerConfigConnector","nylasBufferTimeCss","NylasBufferTimeStyle0","NylasBufferTime","before","after","buffer","bufferTime","selectedBeforeBufferTime","selectedAfterBufferTime","parseInt","renderPreview","totalSlots","slotHeight","eventSlotHeight","slotFill","minutes","fullSlots","Math","floor","partialFillHeight","createBeforeSlots","Array","from","isActive","isPartial","slotStyle","backgroundColor","background","style","createAfterSlots","minuteOptions","min","nylasCalendarPickerCss","NylasCalendarPickerStyle0","NylasCalendarPicker","defaultSelectedCalendars","selectedOptionsChangedHandler","valueChangedHandler","selectedCalendars","nylasEventDescriptionCss","NylasEventDescriptionStyle0","NylasEventDescription","eventDescription","selectedConfiguration","event_booking","description","selectedConfigurationChangedHandler","handleChange","target","maxlength","onInput","nylasEventDurationCss","NylasEventDurationStyle0","NylasEventDuration","eventDurationMinutes","newVal","configDuration","duration_minutes","duration","durationMinutes","durationIncrement","durationMinutesChangedHandler","handleBlur","undefined","durationOptions","nylasEventInfoCss","NylasEventInfoStyle0","NylasEventInfo","nylasEventLimitsCss","NylasEventLimitsStyle0","NylasEventLimits","nylasEventTitleCss","NylasEventTitleStyle0","NylasEventTitle","title","eventTitleTokens","token","labelHTML","availableTokens","$value","fullText","focusOffset","ariaActivedescendantChangedHandler","activeOption","classList","add","querySelectorAll","remove","updateEventTitleFromProp","eventTitle","formSubmittedHandler","validity","valid","validationError","titleRef","innerHTML","highlightTokens","outputHtml","tokenObj","regex","RegExp","replace","getCurrentSelectionForBrowser","getSelectionTextData","nodeValue","offset","node","allSelected","text","dollarIndex","lastIndexOf","lastWord","substring","currentText","isAllSelected","selection","anchorOffset","focusNode","currentBrowser","getBrowser","shadowRootSelection","getSelection","focusNodeValue","document","anchorNodeValue","anchorNode","allSelectedFirefox","windowSelection","window","getComposedRanges","startContainer","allSelectedSafari","endOffset","warn","textContent","currentSelection","updateEventTitle","resetDropdown","startsWith","showTokens","currentWord","populateSuggestionsDropdown","handleInputKeyDown","isNonPrintableKey","click","nextOption","nextElementSibling","filteredTokens","prevOption","previousElementSibling","parentNode","removeChild","word","dollarWord","currentNode","firstChild","textNode","nodeType","currentNodeText","wordText","nextSibling","indexOf","textBefore","textAfter","newTextNode","createTextNode","newRange","createRange","tagSpan","createElement","newTextNodeAfter","replaceWith","setStart","afterNode","sel","collapse","removeAllRanges","addRange","query","obj","getLabelHTML","error","ref","contentEditable","active","nylasLimitFutureBookingsCss","NylasLimitFutureBookingsStyle0","NylasLimitFutureBookings","daysInFuture","scheduler","available_days_in_future","updateNumberAndPeriodFromDays","availableDaysInFutureChanged","availableDaysInFuture","timePeriodChangedHandler","number","period","selectedNumber","selectedPeriod","timePeriods","defaultSelectedNumber","defaultSelectedPeriod","nylasLocationComponentCss","NylasLocationComponentStyle0","NylasLocationComponent","eventLocation","configLocation","location","selectedLocationOption","eventLocationChangedHandler","locationOptions","icons","none","custom","nylasMinCancellationNoticeCss","NylasMinCancellationNoticeStyle0","NylasMinCancellationNotice","minCancellationNotice","min_cancellation_notice","updateNumberAndPeriodFromMinutes","totalMinutes","minutesInHour","minutesInDay","minutesInWeek","minutesInMonth","t","module","exports","LTS","LT","L","LL","LLL","LLLL","n","r","s","f","zone","match","concat","u","meridiem","A","afternoon","S","milliseconds","SS","SSS","ss","m","mm","H","HH","hh","D","DD","Do","ordinal","M","MM","MMM","slice","Error","month","MMMM","Y","YY","year","YYYY","Z","ZZ","c","formats","toUpperCase","l","parser","exec","call","hours","customParseFormat","parseTwoDigitYear","prototype","parse","date","utc","args","$u","$locale","Ls","$d","Date","seconds","getDate","getFullYear","getMonth","v","g","UTC","init","$L","locale","format","apply","isValid","nylasTimeWindowPickerCss","NylasTimeWindowPickerStyle0","dayjs","extend","TimeInput","generateTimes","showTimes","minimumStartTimeChangedHandler","formattedTime","hour","minute","toLowerCase","subtract","times","firstTime","selectedTimeFormatted","isBefore","err","formError","message","shouldAutoScroll","autocompletedTime","autocompleteTimeFormat","optionIndex","scrollToViewWithinParent","handleTimeChange","_e","input","timePart","validateTimeFormatInput","timeChange","handleTimeAutocomplete","newTime","roundToNearest15Minutes","validateExactTimeFormat","handleOnInput","startTime","diff","endOf","iterations","round","handleComboboxKeyDown","timeInput","childElement","parentElement","timeMenu","childRect","getBoundingClientRect","parentRect","top","scrollTop","bottom","left","scrollLeft","right","placeholder","focused"],"sources":["src/common/icons/icon.css?tag=add-circle-icon&encapsulation=scoped","src/common/icons/add-circle.tsx","src/components/design-system/button-component/button-component.scss?tag=button-component&encapsulation=scoped","src/components/design-system/button-component/button-component.tsx","src/common/icons/icon.css?tag=calendar-info-icon&encapsulation=scoped","src/common/icons/calendar-info.tsx","src/common/icons/icon.css?tag=calendar-patterns-icon&encapsulation=scoped","src/common/icons/calendar-patterns.tsx","src/common/icons/icon.css?tag=flow-icon&encapsulation=scoped","src/common/icons/flow.tsx","src/common/icons/icon.css?tag=location-icon&encapsulation=scoped","src/common/icons/location.tsx","src/common/icons/icon.css?tag=location-off-icon&encapsulation=scoped","src/common/icons/location-off.tsx","src/components/design-system/multi-select-dropdown/multi-select-dropdown.scss?tag=multi-select-dropdown&encapsulation=shadow","src/components/design-system/multi-select-dropdown/multi-select-dropdown.tsx","src/components/scheduler-editor/nylas-availability-picker/nylas-availability-picker.scss?tag=nylas-availability-picker&encapsulation=shadow","src/components/scheduler-editor/nylas-availability-picker/nylas-availability-picker.tsx","src/components/scheduler-editor/nylas-booking-calendar-picker/nylas-booking-calendar-picker.scss?tag=nylas-booking-calendar-picker&encapsulation=shadow","src/components/scheduler-editor/nylas-booking-calendar-picker/nylas-booking-calendar-picker.tsx","src/components/scheduler-editor/nylas-buffer-time/nylas-buffer-time.scss?tag=nylas-buffer-time&encapsulation=shadow","src/components/scheduler-editor/nylas-buffer-time/nylas-buffer-time.tsx","src/components/scheduler-editor/nylas-calendar-picker/nylas-calendar-picker.scss?tag=nylas-calendar-picker&encapsulation=shadow","src/components/scheduler-editor/nylas-calendar-picker/nylas-calendar-picker.tsx","src/components/scheduler-editor/nylas-event-description/nylas-event-description.scss?tag=nylas-event-description&encapsulation=shadow","src/components/scheduler-editor/nylas-event-description/nylas-event-description.tsx","src/components/scheduler-editor/nylas-event-duration/nylas-event-duration.scss?tag=nylas-event-duration&encapsulation=shadow","src/components/scheduler-editor/nylas-event-duration/nylas-event-duration.tsx","src/components/scheduler-editor/nylas-event-info/nylas-event-info.scss?tag=nylas-event-info&encapsulation=shadow","src/components/scheduler-editor/nylas-event-info/nylas-event-info.tsx","src/components/scheduler-editor/nylas-event-limits/nylas-event-limits.scss?tag=nylas-event-limits&encapsulation=shadow","src/components/scheduler-editor/nylas-event-limits/nylas-event-limits.tsx","src/components/scheduler-editor/nylas-event-title/nylas-event-title.scss?tag=nylas-event-title&encapsulation=shadow","src/components/scheduler-editor/nylas-event-title/nylas-event-title.tsx","src/components/scheduler-editor/nylas-limit-future-bookings/nylas-limit-future-bookings.scss?tag=nylas-limit-future-bookings&encapsulation=shadow","src/components/scheduler-editor/nylas-limit-future-bookings/nylas-limit-future-bookings.tsx","src/components/scheduler-editor/nylas-location-component/nylas-location-component.scss?tag=nylas-location-component&encapsulation=shadow","src/components/scheduler-editor/nylas-location-component/nylas-location-component.tsx","src/components/scheduler-editor/nylas-min-cancellation-notice/nylas-min-cancellation-notice.scss?tag=nylas-min-cancellation-notice&encapsulation=shadow","src/components/scheduler-editor/nylas-min-cancellation-notice/nylas-min-cancellation-notice.tsx","../../node_modules/.pnpm/dayjs@1.11.7/node_modules/dayjs/plugin/customParseFormat.js","src/components/scheduler-editor/nylas-time-window-picker/nylas-time-window-picker.scss?tag=nylas-time-window-picker&encapsulation=shadow","src/components/scheduler-editor/nylas-time-window-picker/nylas-time-window-picker.tsx"],"sourcesContent":[":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'add-circle-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class AddCircleIcon {\n  @Prop() width: string = '24';\n  @Prop() height: string = '25';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M12 2.5c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10 4.477-10 10-10ZM12 4a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17Zm0 3.5a.75.75 0 0 1 .75.75v3.5h3.5a.75.75 0 0 1 0 1.5h-3.5v3.5a.75.75 0 0 1-1.5 0v-3.5h-3.5a.75.75 0 0 1 0-1.5h3.5v-3.5A.75.75 0 0 1 12 7.5Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n","@import '../../../common/mixins/buttons.scss';\n@import '../../../common/styles/variables.scss';\n\nbutton {\n  height: 48px;\n  border: none;\n  border-radius: var(--nylas-border-radius-2x);\n  font-size: 1rem;\n  line-height: 24px;\n  padding: 0 1rem;\n  cursor: pointer;\n  font-family: var(--nylas-font-family);\n  font-weight: 600;\n  @media #{$mobile} {\n    width: 100%;\n  }\n  &.button-primary {\n    @include primary-button;\n  }\n  &.button-basic {\n    border: 1px solid var(--nylas-base-300);\n    color: var(--nylas-base-700);\n    background: transparent;\n    &:hover {\n      background: transparent;\n      border-color: var(--nylas-primary);\n    }\n    &:active {\n      background: transparent;\n      border-color: var(--nylas-base-600);\n      border-width: 2px;\n    }\n    &:disabled {\n      background: transparent;\n      border-color: var(--nylas-base-300);\n      color: var(--nylas-base-300);\n      cursor: not-allowed;\n    }\n  }\n  &.button-destructive {\n    border: 1px solid var(--nylas-base-300);\n    color: var(--nylas-error);\n    background: transparent;\n    &:hover {\n      background: transparent;\n      border-color: var(--nylas-error);\n    }\n    &:active {\n      background: transparent;\n      border-color: var(--nylas-error-pressed);\n      border-width: 2px;\n      color: var(--nylas-error-pressed);\n    }\n    &:disabled {\n      background: transparent;\n      border-color: var(--nylas-base-300);\n      color: var(--nylas-base-300);\n      cursor: not-allowed;\n    }\n  }\n}\n","import { Component, Prop, h } from '@stencil/core';\ntype ButtonType = 'primary' | 'basic' | 'destructive';\n\n@Component({\n  tag: 'button-component',\n  styleUrl: 'button-component.scss',\n  scoped: true,\n})\nexport class ButtonComponent {\n  // Define a prop to accept the button type\n  @Prop() variant: ButtonType = 'primary';\n\n  // Define a prop for disabled state\n  @Prop() disabled: boolean = false;\n\n  @Prop() type: string = 'button';\n  @Prop() clickHandler?: (event: MouseEvent) => void;\n  @Prop() mouseOverHandler?: (event: MouseEvent) => void;\n  @Prop() mouseOutHandler?: (event: MouseEvent) => void;\n  @Prop() focusHandler?: (event: FocusEvent) => void;\n  @Prop() blurHandler?: (event: FocusEvent) => void;\n\n  render() {\n    const className = `button-${this.variant}` + (this.disabled ? ' disabled' : '');\n\n    return (\n      <button\n        class={className}\n        disabled={this.disabled}\n        type=\"type\"\n        onClick={this.clickHandler}\n        onMouseOver={this.mouseOverHandler}\n        onMouseOut={this.mouseOutHandler}\n        onFocus={this.focusHandler}\n        onBlur={this.blurHandler}\n      >\n        <slot></slot>\n      </button>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'calendar-info-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class CalendarInfoIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M12 0C13.3807 0 14.5 1.11929 14.5 2.5V6.59971C14.1832 6.43777 13.8486 6.30564 13.5 6.20703V4H1.5V11.5C1.5 12.3284 2.17157 13 3 13H6.70703C6.80564 13.3486 6.93777 13.6832 7.09971 14H3C1.61929 14 0.5 12.8807 0.5 11.5V2.5C0.5 1.11929 1.61929 0 3 0H12ZM12 1H3C2.17157 1 1.5 1.67157 1.5 2.5V3H13.5V2.5C13.5 1.67157 12.8284 1 12 1ZM11.375 9.5C11.375 9.15482 11.6548 8.875 12 8.875C12.3452 8.875 12.625 9.15482 12.625 9.5C12.625 9.84518 12.3452 10.125 12 10.125C11.6548 10.125 11.375 9.84518 11.375 9.5ZM12.5 13.5C12.5 13.7761 12.2761 14 12 14C11.7239 14 11.5 13.7761 11.5 13.5V11.5C11.5 11.2239 11.7239 11 12 11C12.2761 11 12.5 11.2239 12.5 11.5V13.5ZM7.5 11.5C7.5 9.01472 9.51472 7 12 7C14.4853 7 16.5 9.01472 16.5 11.5C16.5 13.9853 14.4853 16 12 16C9.51472 16 7.5 13.9853 7.5 11.5ZM8.5 11.5C8.5 13.433 10.067 15 12 15C13.933 15 15.5 13.433 15.5 11.5C15.5 9.567 13.933 8 12 8C10.067 8 8.5 9.567 8.5 11.5Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'calendar-patterns-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class CalendarPatternsIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M3.25 0H11.75C13.2688 0 14.5 1.23122 14.5 2.75V11.25C14.5 12.7688 13.2688 14 11.75 14H3.25C1.73122 14 0.5 12.7688 0.5 11.25V2.75C0.5 1.23122 1.73122 0 3.25 0ZM2 2.75V4H13V2.75C13 2.05964 12.4404 1.5 11.75 1.5H3.25C2.55964 1.5 2 2.05964 2 2.75ZM12.2071 5L8.20711 9H10.7929L13 6.79289V5H12.2071ZM10.7929 5H8.20711L4.20711 9H6.79289L10.7929 5ZM2.79289 9L6.79289 5H4.20711L2 7.20711V9H2.79289ZM2 5.79289L2.79289 5H2V5.79289ZM12.2071 9H13V8.20711L12.2071 9Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'flow-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class FlowIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '12';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M13 1.66211C11.8954 1.66211 11 2.55754 11 3.66211C11 4.76668 11.8954 5.66211 13 5.66211C14.1046 5.66211 15 4.76668 15 3.66211C15 2.55754 14.1046 1.66211 13 1.66211ZM10.0407 3.16678C10.2768 1.74563 11.5119 0.662109 13 0.662109C14.6569 0.662109 16 2.00526 16 3.66211C16 5.31896 14.6569 6.66211 13 6.66211C11.5162 6.66211 10.2839 5.58482 10.0428 4.16971C9.37629 4.23688 8.82682 4.7426 8.71466 5.41551L8.27173 8.07311C8.07929 9.22776 7.11428 10.087 5.9593 10.1574C5.72319 11.5786 4.48813 12.6621 3 12.6621C1.34315 12.6621 0 11.319 0 9.66211C0 8.00526 1.34315 6.66211 3 6.66211C4.48384 6.66211 5.71607 7.73939 5.95724 9.15451C6.62371 9.08734 7.17318 8.58162 7.28534 7.90871L7.72827 5.25111C7.92071 4.09646 8.88571 3.23718 10.0407 3.16678ZM3 7.66211C1.89543 7.66211 1 8.55754 1 9.66211C1 10.7667 1.89543 11.6621 3 11.6621C4.10457 11.6621 5 10.7667 5 9.66211C5 8.55754 4.10457 7.66211 3 7.66211Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'location-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class LocationIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '18';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M10 7.66211C10 9.31896 8.65685 10.6621 7 10.6621C5.34315 10.6621 4 9.31896 4 7.66211C4 6.00526 5.34315 4.66211 7 4.66211C8.65685 4.66211 10 6.00526 10 7.66211ZM9 7.66211C9 6.55754 8.10457 5.66211 7 5.66211C5.89543 5.66211 5 6.55754 5 7.66211C5 8.76668 5.89543 9.66211 7 9.66211C8.10457 9.66211 9 8.76668 9 7.66211ZM11.9497 12.6171C14.6834 9.88221 14.6834 5.44812 11.9497 2.71326C9.21608 -0.0216067 4.78392 -0.0216067 2.05025 2.71326C-0.683418 5.44812 -0.683418 9.88221 2.05025 12.6171L3.57128 14.1159L5.61408 16.101L5.74691 16.2188C6.52168 16.8468 7.65623 16.8076 8.38611 16.1012L10.8223 13.7312L11.9497 12.6171ZM2.75499 3.4183C5.09944 1.07282 8.90055 1.07282 11.245 3.4183C13.5294 5.70364 13.5879 9.3725 11.4207 11.7288L11.245 11.912L9.92371 13.216L7.69315 15.3846L7.60016 15.4642C7.24594 15.732 6.7543 15.732 6.40012 15.4642L6.30713 15.3845L3.3263 12.4791L2.75499 11.912L2.57927 11.7288C0.412077 9.3725 0.47065 5.70364 2.75499 3.4183Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'location-off-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class LocationOffIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '18';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M0.146447 0.808556C0.341709 0.613294 0.658291 0.613294 0.853553 0.808556L15.8536 15.8086C16.0488 16.0038 16.0488 16.3204 15.8536 16.5157C15.6583 16.7109 15.3417 16.7109 15.1464 16.5157L12.0938 13.463L11.8223 13.7312L9.38611 16.1012C8.65623 16.8076 7.52168 16.8468 6.74691 16.2188L6.61408 16.101L4.57128 14.1159L3.05025 12.6171C0.607421 10.1732 0.347525 6.37239 2.27056 3.63976L0.146447 1.51566C-0.0488155 1.3204 -0.0488155 1.00382 0.146447 0.808556ZM9.07768 10.4469C8.74346 10.576 8.38024 10.6468 8.0005 10.6468C6.34839 10.6468 5.00909 9.30689 5.00909 7.65406C5.00909 7.27461 5.07967 6.91166 5.20843 6.57763L2.98793 4.35713C1.49206 6.62038 1.68917 9.67377 3.57927 11.7288L3.75499 11.912L4.3263 12.4791L7.30713 15.3845L7.40012 15.4642C7.7543 15.732 8.24594 15.732 8.60016 15.4642L8.69315 15.3846L10.9237 13.216L11.3883 12.7575L9.07768 10.4469ZM9.85409 8.39486L10.5983 9.13904C10.8487 8.70143 10.9919 8.19447 10.9919 7.65406C10.9919 6.00122 9.65261 4.66134 8.0005 4.66134C7.45986 4.66134 6.95271 4.80482 6.51504 5.05581L7.25921 5.79998C7.48839 5.70819 7.73855 5.6577 8.0005 5.6577C9.10258 5.6577 9.99599 6.5515 9.99599 7.65406C9.99599 7.91581 9.94564 8.16581 9.85409 8.39486ZM4.35291 2.89368C6.70671 1.08827 10.0908 1.26314 12.245 3.4183C14.3986 5.57283 14.5739 8.95702 12.771 11.3118L13.4812 12.022C15.6702 9.27273 15.493 5.25762 12.9497 2.71326C10.4058 0.168159 6.39081 -0.00843871 3.64269 2.18347L4.35291 2.89368Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  width: inherit;\n  @include default-css-variables;\n}\n\n.dropdown {\n  display: inline-block;\n  width: 100%;\n  position: relative;\n  .dropdown-label {\n    display: flex;\n    align-items: center;\n    gap: 0.25rem;\n    color: var(--nylas-base-800);\n  }\n}\n\n.dropbtn {\n  width: inherit;\n  height: 48px;\n  color: black;\n  padding: 0.5rem;\n  font-size: 1rem;\n  cursor: pointer;\n  display: flex;\n  gap: 0.5rem;\n  justify-content: space-between;\n  align-items: center;\n  background: transparent;\n  border: 1px solid var(--nylas-base-200);\n  border-radius: var(--nylas-border-radius-2x);\n  &.focus {\n    background: transparent;\n  }\n  &:hover,\n  &:active {\n    border: 1px solid var(--nylas-primary);\n  }\n  &:active {\n    outline: 2px solid var(--nylas-primary);\n  }\n  span {\n    &.open {\n      transform: rotate(90deg);\n    }\n    &.closed {\n      transform: rotate(270deg);\n    }\n  }\n}\n\n.dropdown-content {\n  display: block;\n  margin-top: 0.5rem;\n  background-color: var(--nylas-base-0);\n  width: 100%;\n  max-height: 336px;\n  overflow: auto;\n  border: 1px solid #ddd;\n  z-index: 1;\n  border-radius: 4px;\n  position: absolute;\n  box-shadow: 0px 4px 6px -2px #0000000d;\n  box-shadow: 0px 10px 15px -3px #0000001a;\n}\n\n.dropdown-content ul {\n  padding: 0;\n  list-style-type: none;\n  color: var(--nylas-base-900);\n  max-height: 336px;\n  li {\n    padding: 16px, 12px, 16px, 12px;\n    color: black;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n    font-family: inherit;\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 20px;\n    letter-spacing: 0px;\n    text-align: left;\n    cursor: pointer;\n    &:hover,\n    &:focus {\n      background-color: var(--nylas-base-100);\n    }\n    label {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      input {\n        margin: 0;\n      }\n    }\n  }\n}\n\n.selected-options {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  padding: 0.5rem 0;\n  margin-top: 0.25rem;\n  background: var(--nylas-base-0);\n  .selected-option {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 4px 8px;\n    border-radius: var(--nylas-border-radius-2x);\n    background: var(--nylas-base-100);\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 1.5rem;\n    letter-spacing: 0.5px;\n    button {\n      background: transparent;\n      border: none;\n      cursor: pointer;\n      padding: 0;\n      &:hover {\n        color: var(--nylas-primary);\n      }\n    }\n  }\n}\n","import { debug } from '@/utils/utils';\nimport { Component, Element, Event, EventEmitter, Host, Listen, Prop, State, h } from '@stencil/core';\n\ninterface DropdownOption {\n  label: string;\n  value: string;\n  selected?: boolean; // Add a selected flag to each option\n}\n\n@Component({\n  tag: 'multi-select-dropdown',\n  styleUrl: 'multi-select-dropdown.scss',\n  shadow: true,\n})\nexport class MultiSelectDropdown {\n  @Element() el!: HTMLElement;\n\n  // Props\n  /**\n   * The name of the dropdown\n   */\n  @Prop() name!: string;\n\n  /**\n   * The label of the dropdown\n   */\n  @Prop() label?: string;\n\n  /**\n   * The options to display in the dropdown\n   */\n  @Prop() options: DropdownOption[] = [];\n\n  // States\n  /**\n   * The copy of the options to display in the dropdown\n   */\n  @State() availableOptions: DropdownOption[] = this.options;\n  /**\n   * The open state of the dropdown\n   */\n  @State() isOpen: boolean = false;\n  /**\n   * The aria-activedescendant attribute for the listbox element to indicate the currently active\n   */\n  @State() ariaActivedescendant: string = '';\n\n  /**\n   * This flag is used to focus the first option when the dropdown is opened\n   * and reset after the first option is focused\n   */\n  @State() shouldFocusFirstOption: boolean = false;\n\n  // Events\n  /**\n   * This event is fired when the selected options are changed\n   */\n  @Event({ bubbles: true, composed: true }) selectedOptionsChanged!: EventEmitter<{\n    value: string[];\n    name: string;\n  }>;\n\n  // Lifecycle methods\n  componentDidRender() {\n    debug('multi-select-dropdown', 'componentDidRender');\n    if (this.isOpen && this.shouldFocusFirstOption) {\n      // The dropdown is open and we should focus the first option\n      this.ariaActivedescendant = this.availableOptions[0].value;\n      this.focusOption(0);\n      // Reset the flag\n      this.shouldFocusFirstOption = false;\n    }\n  }\n\n  // Event listeners\n  @Listen('click', { target: 'document', capture: true })\n  handleOutsideClick(event: MouseEvent) {\n    // Get the path of the event\n    const path = event.composedPath();\n\n    // Check if the path includes the host element\n    const isClickInside = path.includes(this.el);\n\n    if (!isClickInside && this.isOpen) {\n      this.isOpen = false;\n    }\n  }\n\n  // Methods\n\n  selectOption(option: DropdownOption): void {\n    this.availableOptions = this.availableOptions.map(o => {\n      if (o.value === option.value) {\n        o.selected = option.selected ? false : true;\n      }\n      return o;\n    });\n    const selectedOptions = this.availableOptions.filter(o => o.selected).map(o => o.value);\n    this.selectedOptionsChanged.emit({\n      value: selectedOptions,\n      name: this.name,\n    });\n  }\n\n  toggleDropdown(): void {\n    this.isOpen = !this.isOpen;\n    if (this.isOpen) {\n      this.shouldFocusFirstOption = true;\n    } else {\n      this.ariaActivedescendant = '';\n    }\n  }\n\n  handleSelectButtonKeyDown(event: KeyboardEvent): void {\n    switch (event.key) {\n      case 'ArrowDown':\n      case 'Enter':\n        event.preventDefault();\n        if (!this.isOpen) {\n          this.toggleDropdown();\n        }\n        break;\n      case 'Escape':\n        this.isOpen = false;\n        break;\n    }\n  }\n\n  handleListboxKeydown(e: KeyboardEvent) {\n    const items = this.availableOptions;\n    const currentIndex = items.findIndex(item => item.value === this.ariaActivedescendant);\n\n    switch (e.key) {\n      case 'ArrowDown':\n      case 'Tab':\n        if (!e.shiftKey) {\n          e.preventDefault();\n          const nextIndex = currentIndex + 1 < items.length ? currentIndex + 1 : 0;\n          this.ariaActivedescendant = items[nextIndex].value;\n          this.focusOption(nextIndex);\n        } else {\n          e.preventDefault();\n          const prevIndex = currentIndex - 1 >= 0 ? currentIndex - 1 : items.length - 1;\n          this.ariaActivedescendant = items[prevIndex].value;\n          this.focusOption(prevIndex);\n        }\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        const prevIndex = currentIndex - 1 >= 0 ? currentIndex - 1 : items.length - 1;\n        this.ariaActivedescendant = items[prevIndex].value;\n        this.focusOption(prevIndex);\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (this.ariaActivedescendant) {\n          this.selectOption(items[currentIndex]);\n        }\n        break;\n      case 'Escape':\n        this.isOpen = false;\n        break;\n    }\n  }\n\n  focusOption(index: number) {\n    const option = this.availableOptions[index];\n    if (!option) return; // Guard clause in case index is out of bounds\n\n    const elementId = option.value;\n    const element = this.el.shadowRoot?.getElementById(elementId) as HTMLLIElement;\n\n    if (element) {\n      element.focus(); // Set focus on the element\n      element.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n  }\n\n  getSelectedOptions() {\n    return this.availableOptions.filter(option => option.selected);\n  }\n\n  renderOption(option: DropdownOption) {\n    return (\n      <li\n        key={option.value}\n        id={option.value}\n        role=\"option\"\n        tabindex=\"0\"\n        aria-selected={option.selected ? 'true' : 'false'}\n        onClick={e => {\n          e.stopImmediatePropagation();\n          this.selectOption(option);\n        }}\n        class={{ selected: !!option.selected }}\n      >\n        <label htmlFor={option.value}>\n          <input aria-hidden=\"true\" id={option.value} type=\"checkbox\" checked={option.selected} />\n          <span>{option.label}</span>\n        </label>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"dropdown\" part=\"msd_dropdown\">\n          <label class=\"dropdown-label\">\n            {this.label}\n            <slot name=\"label-icon\" aria-hidden=\"true\"></slot>\n          </label>\n          <button\n            part=\"msd_dropdown-button\"\n            class={{ dropbtn: true, open: this.isOpen }}\n            onClick={() => this.toggleDropdown()}\n            aria-haspopup=\"listbox\"\n            aria-expanded={this.isOpen ? 'true' : 'false'}\n            aria-label={this.name}\n            onKeyDown={e => this.handleSelectButtonKeyDown(e)}\n          >\n            <slot name=\"select-icon\" aria-hidden=\"true\"></slot>\n            <span class=\"selected-option\" part=\"msd_dropdown-button-selected-label\">\n              {this.getSelectedOptions().length > 1\n                ? `Multiple ${this.name}s selected`\n                : this.availableOptions.filter(o => o.selected)[0]?.label ?? this.availableOptions[0]?.label}\n            </span>\n            <span class={this.isOpen ? 'open' : 'closed'} aria-hidden=\"true\">\n              <chevron-icon width=\"16\" height=\"16\" />\n            </span>\n          </button>\n          {this.isOpen ? null : (\n            <div class={'selected-options'}>\n              {this.getSelectedOptions().map(option => (\n                <span class=\"selected-option\">\n                  {option.label}\n                  <button key={option.label} onClick={() => this.selectOption(option)}>\n                    <close-icon />\n                  </button>\n                </span>\n              ))}\n            </div>\n          )}\n          {this.isOpen ? (\n            <div class=\"dropdown-content\" part=\"msd_dropdown-content\">\n              <ul\n                tabindex=\"-1\"\n                role=\"listbox\"\n                aria-label={this.name}\n                aria-multiselectable={true}\n                aria-activedescendant={this.ariaActivedescendant}\n                onKeyDown={e => this.handleListboxKeydown(e)}\n              >\n                {this.availableOptions.map(option => this.renderOption(option))}\n              </ul>\n            </div>\n          ) : null}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-availability-picker {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n    h3 {\n      margin: 0;\n      font-size: 16px;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n  .content {\n    padding: 1rem;\n    color: var(--nylas-base-900);\n    font-size: 16px;\n    font-family: var(--nylas-font-family);\n    @media #{$small-mobile} {\n      font-size: 15px;\n    }\n    .select-timezone {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid var(--nylas-base-200);\n      padding-bottom: 1rem;\n      gap: 1rem;\n      h4 {\n        display: flex;\n        gap: 0.5rem;\n        align-items: center;\n        margin: 0;\n        font-size: 16px;\n        @media #{$small-mobile} {\n          font-size: 15px;\n        }\n        font-weight: 500;\n        line-height: 20px;\n      }\n      select-dropdown {\n        border: 1px solid var(--nylas-base-200);\n        border-radius: var(--nylas-border-radius-2x);\n      }\n    }\n    .availability {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      padding: 0 0.5rem;\n      @media #{$small-mobile} {\n        gap: 0.5rem;\n        padding: 0;\n      }\n      margin: 1rem 0;\n      .availability-day {\n        display: grid;\n        grid-template-columns: minmax(auto, 65px) 1fr minmax(auto, 40px);\n        @media #{$mobile} {\n          grid-template-columns: 78px 1fr auto;\n        }\n        @media #{$small-mobile} {\n          display: inline-grid;\n          gap: 8px;\n          grid-template-columns: 60px 1fr auto;\n        }\n        gap: 1rem;\n        align-items: baseline;\n        .day {\n          display: flex;\n          gap: 0.5rem;\n          @media #{$small-mobile} {\n            gap: 0.25rem;\n          }\n          align-items: center;\n\n          input[type='checkbox'] {\n            transform: scale(1.3);\n          }\n        }\n        .time-ranges {\n          span.unavailable {\n            height: 48px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .time-range {\n            display: flex;\n            gap: 1.5rem;\n            justify-content: space-between;\n            align-items: baseline;\n            @media #{$small-mobile} {\n              justify-content: unset;\n              gap: 0.5rem;\n            }\n            .pickers {\n              display: flex;\n              gap: 1rem;\n              @media #{$small-mobile} {\n                gap: 0.5rem;\n              }\n              span {\n                margin-top: 0.75rem;\n              }\n            }\n            &:not(:last-of-type) {\n              margin-bottom: 1rem;\n            }\n          }\n          p.error {\n            color: var(--nylas-error);\n          }\n        }\n        button {\n          border: none;\n          background: transparent;\n          height: 40px;\n          cursor: pointer;\n          color: var(--nylas-base-800);\n          &:hover,\n          &:active {\n            color: var(--nylas-primary);\n          }\n        }\n      }\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { convertTo12HourFormat, convertTo24HourFormat, debug, minutesToTime, timeToMinutes } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { TIMEZONE_MAP } from '@/common/constants';\nimport { Configuration } from '@nylas/core';\n\nexport type OpenHours = {\n  days: number[];\n  start: string;\n  end: string;\n  timezone: string;\n};\n\nexport type Schedule = {\n  SUN: { start: string; end: string }[];\n  MON: { start: string; end: string }[];\n  TUE: { start: string; end: string }[];\n  WED: { start: string; end: string }[];\n  THU: { start: string; end: string }[];\n  FRI: { start: string; end: string }[];\n  SAT: { start: string; end: string }[];\n};\n\n/**\n * The `nylas-availability-picker` component is a form input for selecting availability (open hours).\n * @part nap__header - The header of the availability picker\n * @part nap__select-timezone - The timezone selection container\n * @part nap__select-timezone-button - The timezone selection button\n * @part nap__select-timezone-dropdown-content - The timezone selection dropdown content\n * @part nap__availability - The availability container\n * @part nap__day - The day container\n * @part nap__time-ranges - The time ranges container\n * @part nap__time-range - The time range container\n * @part nap__add-time-range - The add time range button\n * @part nap__time-picker-container - The time picker container\n * @part nap__time-picker-input - The time picker input\n * @part nap__time-picker-times - The time picker times\n */\n@Component({\n  tag: 'nylas-availability-picker',\n  styleUrl: 'nylas-availability-picker.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasAvailabilityPicker {\n  /**\n   * The element <nylas-availability-picker> itself.\n   */\n  @Element() host!: HTMLNylasAvailabilityPickerElement;\n  /**\n   * The selected configuration.\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The open hours to display.\n   */\n  @Prop() openHours?: OpenHours[];\n  /**\n   * The name of the availability picker.\n   */\n  @Prop() name: string = 'availability';\n  /*\n   * The default timezone or preset timezone.\n   */\n  @Prop() defaultTimezone: string = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n  /**\n   * This event is fired when the selected availability / open hours change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: {\n      openHours: OpenHours[];\n      timezone: string;\n    };\n    name: string;\n  }>;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n  @State() schedule = {\n    SUN: [],\n    MON: [{ start: '09:00am', end: '05:00pm' }],\n    TUE: [{ start: '09:00am', end: '05:00pm' }],\n    WED: [{ start: '09:00am', end: '05:00pm' }],\n    THU: [{ start: '09:00am', end: '05:00pm' }],\n    FRI: [{ start: '09:00am', end: '05:00pm' }],\n    SAT: [],\n  };\n  /**\n   * The selected timezone state.\n   */\n  @State() timezone: string = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  /**\n   * The overlapping time ranges state. This is used to display an error message when there are overlapping time ranges.\n   */\n  @State() overlapDays: { [key: string]: number[] } = {};\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-calendar-picker', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  configChangedHandler(newConfig: Configuration) {\n    const organizer = newConfig?.participants?.find(p => p.is_organizer);\n    if (organizer && organizer?.availability?.open_hours) {\n      this.openHoursToSchedule(organizer?.availability?.open_hours);\n    }\n  }\n\n  @Watch('schedule')\n  scheduleChanged(newValue: Schedule, oldValue: Schedule) {\n    if (newValue !== oldValue) {\n      this.valueChanged.emit({\n        value: {\n          openHours: this.scheduleToOpenHours(newValue),\n          timezone: this.timezone,\n        },\n        name: this.name,\n      });\n      let overlapDays: { [key: string]: number[] } = {};\n      Object.keys(newValue).forEach(key => {\n        const dayTimeRanges = newValue[key];\n        if (dayTimeRanges.length > 0) {\n          const overlaps = this.getOverlaps(dayTimeRanges);\n          if (overlaps.length > 0) {\n            overlapDays[key] = overlaps;\n          }\n        }\n      });\n      this.overlapDays = overlapDays;\n      if (typeof this.internals.setFormValue !== 'function') {\n        return;\n      }\n      if (Object.keys(overlapDays).length > 0) {\n        const element = this.host.shadowRoot?.getElementById(Object.keys(overlapDays)[0]) as HTMLInputElement;\n        if (element) {\n          this.internals.setValidity({ customError: true }, 'Overlapping time ranges found', element);\n        }\n      } else {\n        this.internals.setValidity({ customError: false });\n        this.internals.setFormValue(\n          JSON.stringify({\n            openHours: this.scheduleToOpenHours(this.schedule),\n            timezone: this.timezone,\n          }),\n        );\n      }\n    }\n  }\n\n  @Listen('selectedOptionChanged')\n  selectedOptionChangedHandler(\n    event: CustomEvent<{\n      value: string;\n      name: string;\n    }>,\n  ) {\n    const { name, value } = event.detail;\n    if (name === 'timezone') {\n      this.timezone = value;\n      if (typeof this.internals.setFormValue !== 'function') {\n        return;\n      }\n      this.internals.setFormValue(\n        JSON.stringify({\n          openHours: this.scheduleToOpenHours(this.schedule),\n          timezone: this.timezone,\n        }),\n      );\n    }\n  }\n\n  connectedCallback() {\n    debug('nylas-availability-picker', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-availability-picker', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-availability-picker', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-availability-picker', 'componentDidLoad');\n    if (this.openHours && this.openHours.length > 0) {\n      this.openHoursToSchedule(this.openHours);\n    }\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(\n      JSON.stringify({\n        openHours: this.scheduleToOpenHours(this.schedule),\n        timezone: this.timezone,\n      }),\n    );\n  }\n\n  getOverlaps(timeRanges) {\n    // Convert times to minutes and add to the array\n    let timeRangesInMinutes = timeRanges.map((range, index) => ({\n      start: timeToMinutes(range.start),\n      end: timeToMinutes(range.end),\n      originalIndex: index,\n    }));\n\n    // Sort by start time\n    timeRangesInMinutes.sort((a, b) => a.start - b.start);\n    let overlaps: number[] = [];\n    // Check for overlap\n    for (let i = 1; i < timeRangesInMinutes.length; i++) {\n      if (timeRangesInMinutes[i].start < timeRangesInMinutes[i - 1].end) {\n        // Add both overlapping time range indices if they are not already included\n        if (!overlaps.includes(timeRangesInMinutes[i].originalIndex)) {\n          overlaps.push(timeRangesInMinutes[i].originalIndex);\n        }\n        if (!overlaps.includes(timeRangesInMinutes[i - 1].originalIndex)) {\n          overlaps.push(timeRangesInMinutes[i - 1].originalIndex);\n        }\n      }\n    }\n    return overlaps.sort((a, b) => a - b); // Return sorted list of indices\n  }\n\n  addTimeRange(day) {\n    const currentTimeRanges = this.schedule[day];\n\n    // Default working hours are from 00:00 to 23:45 for calculation purposes\n    const dayStart = 0; // Start of the day in minutes (00:00)\n    const dayEnd = 1425; // End of the day in minutes (23:45)\n\n    if (currentTimeRanges.length === 0) {\n      // If there are no existing time ranges, add one at the start of the day\n      this.schedule[day] = [{ start: '09:00am', end: '05:00pm' }]; // Example range\n    } else {\n      // Convert all time ranges to minutes for comparison\n      const timeRangesInMinutes = currentTimeRanges\n        .map(range => ({\n          start: timeToMinutes(range.start),\n          end: timeToMinutes(range.end),\n        }))\n        .sort((a, b) => a.start - b.start); // Sort by start time\n\n      // Attempt to add a new time range at the end of the day\n      const lastRangeEnd = timeRangesInMinutes[timeRangesInMinutes.length - 1].end;\n      if (lastRangeEnd + 60 <= dayEnd) {\n        // There's room at the end of the day\n        this.schedule[day].push({\n          start: convertTo12HourFormat(minutesToTime(lastRangeEnd)),\n          end: convertTo12HourFormat(minutesToTime(lastRangeEnd + 60)),\n        });\n      } else {\n        // No room at the end, look for gaps at the beginning of the day\n        let gapFound = false;\n        if (timeRangesInMinutes[0].start > dayStart + 60) {\n          // There's room for at least a 1-hour meeting at the beginning of the day\n          this.schedule[day].push({\n            start: convertTo12HourFormat(minutesToTime(dayStart)),\n            end: convertTo12HourFormat(minutesToTime(dayStart + 60)),\n          });\n          gapFound = true;\n        }\n\n        if (!gapFound) {\n          // Search for gaps between scheduled time ranges\n          for (let i = 0; i < timeRangesInMinutes.length - 1; i++) {\n            const currentEnd = timeRangesInMinutes[i].end;\n            const nextStart = timeRangesInMinutes[i + 1].start;\n\n            if (nextStart - currentEnd >= 60) {\n              // Found a gap\n              this.schedule[day].push({\n                start: convertTo12HourFormat(minutesToTime(currentEnd)),\n                end: convertTo12HourFormat(minutesToTime(currentEnd + 60)),\n              });\n              break; // Exit the loop after adding a time range\n            }\n          }\n        }\n      }\n    }\n\n    // Sort the updated schedule to maintain order\n    this.schedule[day].sort((a, b) => timeToMinutes(a.start) - timeToMinutes(b.start));\n\n    this.schedule = { ...this.schedule };\n  }\n\n  removeTimeRange(day, index) {\n    this.schedule[day].splice(index, 1);\n    this.schedule = { ...this.schedule };\n  }\n\n  @Listen('timeChange')\n  setTime(event: CustomEvent<{ key: string; value: string }>) {\n    console.log('timeChanged', event);\n    const { key, value } = event.detail;\n    console.log({\n      key,\n      value,\n    });\n    const [dayIndex, timeType] = key.split('_');\n    const [day, index] = dayIndex.split(':');\n\n    if (timeType === 'start') {\n      this.schedule[day][index].start = value;\n    } else if (timeType === 'end') {\n      this.schedule[day][index].end = value;\n    }\n    this.internals.setValidity({ customError: false });\n    this.schedule = { ...this.schedule };\n  }\n\n  @Listen('formError')\n  setFormError(event: CustomEvent<{ key: string; message: string }>) {\n    const { key } = event.detail;\n    const [_, timeType] = key.split('_');\n    const element = this.host.shadowRoot?.getElementById(key);\n    if (element) {\n      this.internals.setValidity({ customError: true }, `Invalid ${timeType} time`, element as HTMLInputElement);\n    }\n  }\n\n  openHoursToSchedule(openHours: OpenHours[]) {\n    const newSchedule = {\n      SUN: [],\n      MON: [],\n      TUE: [],\n      WED: [],\n      THU: [],\n      FRI: [],\n      SAT: [],\n    };\n    openHours.forEach(openHour => {\n      openHour.days.forEach(day => {\n        const dayKey = this.getDayKey(day);\n        const start12hr = convertTo12HourFormat(openHour.start);\n        const end12hr = convertTo12HourFormat(openHour.end);\n        const timeRange = { start: start12hr, end: end12hr };\n\n        // Check if the time range already exists for the day\n        let timeRangeExists = false;\n        if (newSchedule[dayKey]) {\n          // Search for an existing time range that matches the current one\n          timeRangeExists = newSchedule[dayKey].some(range => range.start === timeRange.start && range.end === timeRange.end);\n        }\n\n        if (!timeRangeExists) {\n          if (newSchedule[dayKey]) {\n            newSchedule[dayKey].push(timeRange);\n          } else {\n            newSchedule[dayKey] = [timeRange];\n          }\n        }\n      });\n    });\n\n    this.timezone = this.defaultTimezone;\n    this.schedule = newSchedule;\n  }\n\n  getDayKey(dayIndex: number): string {\n    const days = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];\n    return days[dayIndex];\n  }\n\n  scheduleToOpenHours(schedule: Schedule): OpenHours[] {\n    const dayKeys = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];\n    let openHoursMap: Map<string, { days: number[]; start: string; end: string }> = new Map();\n\n    dayKeys.forEach((dayKey, index) => {\n      if (schedule[dayKey]) {\n        // Check if schedule for the day exists\n        schedule[dayKey].forEach(timeRange => {\n          const start24hr = convertTo24HourFormat(timeRange.start);\n          const end24hr = convertTo24HourFormat(timeRange.end);\n          const key = `${start24hr}-${end24hr}`;\n\n          if (!openHoursMap.has(key)) {\n            openHoursMap.set(key, { days: [index], start: start24hr, end: end24hr });\n          } else {\n            let entry = openHoursMap.get(key);\n            if (entry) {\n              entry.days.push(index);\n              openHoursMap.set(key, entry);\n            }\n          }\n        });\n      }\n    });\n\n    let selectedOpenHours: OpenHours[] = [];\n    openHoursMap.forEach((value, _key) => {\n      selectedOpenHours.push({\n        days: value.days,\n        start: value.start,\n        end: value.end,\n        timezone: this.timezone,\n      });\n    });\n\n    return selectedOpenHours;\n  }\n\n  @RegisterComponent<NylasAvailabilityPicker, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-availability-picker',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    fireRegisterEvent: true,\n  })\n  render() {\n    const timezoneOptions = Object.keys(TIMEZONE_MAP).map(key => ({\n      label: TIMEZONE_MAP[key],\n      value: key,\n    }));\n\n    return (\n      <Host>\n        <div class=\"nylas-availability-picker\">\n          <div class=\"header\" part=\"nap__header\">\n            <h3>General availability</h3>\n            <p>Set your availability for scheduling meetings.</p>\n          </div>\n          <div class=\"content\">\n            <div class=\"select-timezone\" part=\"nap__select-timezone\">\n              <h4 class=\"sub-header\">\n                Select timezone\n                <span class=\"icon\">\n                  <tooltip-component>\n                    <info-icon slot=\"tooltip-icon\" />\n                    <span slot=\"tooltip-content\">Select your timezone for displaying availability.</span>\n                  </tooltip-component>\n                </span>\n              </h4>\n              <select-dropdown\n                name=\"timezone\"\n                exportparts=\"sd_dropdown: nap__timezone-container, sd_dropdown-button: nap__timezone-button, sd_dropdown-content: nap__timezone-dropdown-content\"\n                options={timezoneOptions}\n                defaultSelectedOption={timezoneOptions.find(i => i.value === this.defaultTimezone)}\n              >\n                <span slot=\"select-icon\">\n                  <globe-icon width=\"20\" height=\"20\" />\n                </span>\n              </select-dropdown>\n            </div>\n            <div class=\"availability\" part=\"nap__availability\">\n              {Object.keys(this.schedule).map(key => {\n                const day = key;\n                const timeRanges = this.schedule[key] as { start: string; end: string }[];\n                return (\n                  <div class=\"availability-day\">\n                    <div class=\"day\" part=\"nap__day\">\n                      <input\n                        type=\"checkbox\"\n                        name={day}\n                        id={day}\n                        checked={timeRanges.length > 0}\n                        onClick={() => {\n                          if (timeRanges.length > 0) {\n                            this.schedule[day] = [];\n                          } else {\n                            this.schedule[day] = [{ start: '09:00am', end: '05:00pm' }];\n                          }\n                          this.schedule = { ...this.schedule };\n                        }}\n                      />\n                      <label htmlFor={day} aria-label=\"Select day\">\n                        {day}\n                      </label>\n                    </div>\n                    <div class=\"time-ranges\" part=\"nap__time-ranges\">\n                      {timeRanges.length ? null : <span class=\"unavailable\">Unavailable</span>}\n                      {timeRanges.length > 0 &&\n                        timeRanges.map((timeRange, timeRangeIndex) => {\n                          const startKey = `${key}:${timeRangeIndex}_start`;\n                          const endKey = `${key}:${timeRangeIndex}_end`;\n                          return (\n                            <div class=\"time-range\" part=\"nap__time-range\">\n                              <div class=\"pickers\">\n                                <nylas-time-window-picker\n                                  id={startKey}\n                                  hasError={this.overlapDays[day]?.includes(timeRangeIndex)}\n                                  time={timeRange.start}\n                                  name={startKey}\n                                  key={startKey}\n                                  exportparts=\"time-picker: nap__time-picker-container, time-input: nap__time-picker-input, times: nap__time-picker-times\"\n                                  // setTime={(event, additionalData) => this.setTime(startKey, event, additionalData)}\n                                  // setFormError={(event, additionalData) => this.setFormError(startKey, event, additionalData)}\n                                />\n                                <span> - </span>\n                                <nylas-time-window-picker\n                                  id={endKey}\n                                  hasError={this.overlapDays[day]?.includes(timeRangeIndex)}\n                                  time={timeRange.end}\n                                  name={endKey}\n                                  key={endKey}\n                                  minimumStartTime={timeRange.start}\n                                  exportparts=\"time-picker: nap__time-picker-container, time-input: nap__time-picker-input, times: nap__time-picker-times\"\n                                  // setTime={(event, additionalData) => this.setTime(endKey, event, additionalData)}\n                                  // setFormError={(event, additionalData) => this.setFormError(endKey, event, additionalData)}\n                                />\n                              </div>\n                              <button onClick={() => this.removeTimeRange(day, timeRangeIndex)}>\n                                <close-icon />\n                              </button>\n                            </div>\n                          );\n                        })}\n                      <p class=\"error\">{this.overlapDays[day] ? 'Overlapping time ranges' : ''}</p>\n                    </div>\n                    <div>\n                      {timeRanges.length > 0 ? (\n                        <button onClick={() => this.addTimeRange(day)} part=\"nap__add-time-range\">\n                          <add-circle-icon />\n                        </button>\n                      ) : null}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-booking-calendar-picker {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n  .nylas-booking-calendar-picker__loading {\n    padding-bottom: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    .label {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      margin: 1rem 1rem 0;\n      color: var(--nylas-base-800);\n    }\n    .loading-button {\n      margin: 0 1rem;\n      padding: 0;\n      width: inherit;\n      height: 48px;\n      color: black;\n      font-size: 1rem;\n      cursor: not-allowed;\n      display: flex;\n      gap: 0.5rem;\n      justify-content: space-between;\n      align-items: center;\n      background: transparent;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      span {\n        padding: 0 1rem;\n      }\n    }\n  }\n  .nylas-booking-calendar-picker__dropdown {\n    padding: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    span.label {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      color: var(--nylas-base-800);\n      tooltip-component {\n        display: flex;\n      }\n    }\n    select-dropdown::part(sd_dropdown) {\n      width: 100%;\n    }\n    select-dropdown::part(sd_dropdown-content) {\n      width: 100%;\n      max-width: unset;\n    }\n    select-dropdown::part(sd_dropdown-button) {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 1rem;\n    }\n    select-dropdown::part(sd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { Calendar } from '@nylas/core';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { User } from '@/common/nylas-api-request';\n\n/**\n * The `nylas-booking-calendar-picker` component is a UI component that displays the booking calendar picker.\n * @part nbcp - The booking calendar picker container\n * @part nbcp__header - The header of the booking calendar picker\n * @part nbcp__input-label - The input label of the booking calendar picker\n * @part nbcp__dropdown - The dropdown container\n * @part nbcp__dropdown-button - The dropdown button\n * @part nbcp__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-booking-calendar-picker',\n  styleUrl: 'nylas-booking-calendar-picker.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasBookingCalendarPicker {\n  @Element() host!: HTMLNylasCalendarPickerElement;\n  /**\n   * The calendars to choose from.\n   */\n  @Prop() calendars?: Calendar[];\n  /**\n   * The current logged in user.\n   */\n  @Prop() currentUser?: User;\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'booking-calendar';\n  /**\n   * The default selected calendar.\n   */\n  @Prop() defaultBookingCalendar: string = '';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The selected calendars.\n   */\n  @State() selectedCalendar: string = '';\n\n  /**\n   * This event is fired when the selected calendars change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-booking-calendar-picker', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-booking-calendar-picker', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-booking-calendar-picker', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-booking-calendar-picker', 'componentDidLoad');\n    this.defaultBookingCalendar = this.defaultBookingCalendar || this.currentUser?.email || '';\n\n    // TODO: Remove this when the internals in tests are fixed.\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(this.defaultBookingCalendar.toString(), 'booking-calendar');\n    }\n    this.selectedCalendar = this.defaultBookingCalendar || this.currentUser?.email || '';\n  }\n\n  componentWillUpdate() {\n    debug('nylas-booking-calendar-picker', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-booking-calendar-picker', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-booking-calendar-picker', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-booking-calendar-picker', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-booking-calendar-picker', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Listen('selectedOptionChanged')\n  selectedOptionChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-booking-calendar-picker', 'selectedOptionChangedHandler', event.detail);\n    // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n    const valueChanged = (event: CustomEvent<{ value: string; name: string }>) => {\n      const { value } = event.detail;\n      this.selectedCalendar = value;\n      this.internals.setFormValue(value.toString(), this.name);\n    };\n    this.valueChanged.emit({ value: event.detail.value, name: this.name, valueChanged });\n  }\n\n  @RegisterComponent<NylasBookingCalendarPicker, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-booking-calendar-picker',\n    stateToProps: new Map([\n      ['schedulerConfig.calendars', 'calendars'],\n      ['schedulerConfig.currentUser', 'currentUser'],\n    ]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const calendarOptions =\n      this.calendars?.map(calendar => {\n        return {\n          value: calendar.id,\n          label: calendar.name,\n        };\n      }) ?? [];\n\n    return (\n      <Host>\n        <div class=\"nylas-booking-calendar-picker\" part=\"nbcp\">\n          <div class=\"header\" part=\"nbcp__header\">\n            <h3>Calendar booking</h3>\n            <p>Choose calendar where you’d like the event bookings to show up.</p>\n          </div>\n\n          {calendarOptions.length > 0 ? (\n            <div class=\"nylas-booking-calendar-picker__dropdown\">\n              <span class=\"label\" part=\"nbcp__input-label\">\n                Select a calendar to book meetings on\n                <tooltip-component>\n                  <info-icon slot=\"tooltip-icon\" />\n                  <span slot=\"tooltip-content\">\n                    Check availability across one or multiple calendars. If multiple calendars are selected, you must be available across all of them to be considered available.\n                  </span>\n                </tooltip-component>\n              </span>\n              <select-dropdown\n                name=\"booking-calendar\"\n                options={calendarOptions}\n                withSearch={false}\n                exportparts=\"sd_dropdown: nbcp__dropdown, sd_dropdown-button: nbcp__dropdown-button, sd_dropdown-content: nbcp__dropdown-content\"\n                defaultSelectedOption={calendarOptions.find(cal => cal.value == this.defaultBookingCalendar) ?? calendarOptions[0]}\n              />\n            </div>\n          ) : (\n            <div class=\"nylas-booking-calendar-picker__loading\">\n              <span class=\"label\">\n                Select a calendar to book meetings on <info-icon />\n              </span>\n              <div class=\"loading-button\">\n                <span>Loading...</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-buffer-time {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  text-align: left;\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n\n  .nylas-buffer-time__body {\n    display: grid;\n    grid-template-columns: 1fr auto;\n    @media #{$mobile} {\n      grid-template-columns: 1fr;\n    }\n    .nylas-buffer-time__dropdown {\n      padding: 1rem;\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      border-right: 1px solid var(--nylas-base-200);\n      color: var(--nylas-base-800);\n      @media #{$mobile} {\n        border: none;\n      }\n      .nylas-buffer-time__row {\n        display: grid;\n        grid-template-columns: auto 1fr;\n        align-items: center;\n        gap: 1rem;\n        label {\n          width: 200px;\n        }\n        .dropdown-container {\n          display: flex;\n          gap: 1rem;\n          align-items: center;\n          justify-content: flex-end;\n        }\n      }\n    }\n    .nylas-buffer-time__preview {\n      width: 208px;\n      background: var(--nylas-base-25);\n      border-bottom-right-radius: var(--nylas-border-radius-2x);\n      @media #{$mobile} {\n        width: inherit;\n        border-bottom-left-radius: var(--nylas-border-radius-2x);\n      }\n      h4 {\n        font-size: 14px;\n        line-height: 24px;\n        color: var(--nylas-base-600);\n        font-family: var(--nylas-font-family);\n        font-weight: 500;\n        text-align: center;\n        margin: 0.75rem 0;\n      }\n      .preview-container {\n        padding: 0 2rem 1rem;\n        .slot {\n          background-color: transparent;\n          border-top: 1px solid var(--nylas-base-300);\n          &.active {\n            background-color: var(--nylas-base-100);\n          }\n          &:last-of-type {\n            border-bottom: 1px solid var(--nylas-base-300);\n          }\n        }\n        .event-slot {\n          background-color: var(--nylas-base-600);\n          border-top: 1px solid var(--nylas-base-300);\n        }\n      }\n    }\n  }\n\n  .nylas-buffer-time__dropdown {\n    select-dropdown::part(sd_dropdown-button) {\n      width: 104px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 1rem;\n    }\n    select-dropdown::part(sd_dropdown-content) {\n      width: 100%;\n    }\n    select-dropdown::part(sd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\n\n/**\n * The `nylas-buffer-time` component is a UI component that displays the booking calendar picker.\n * @part nbt - The buffer time container\n * @part nbt__header - The header of the buffer time\n * @part nbt__body - The body of the buffer time\n * @part nbt__dropdown-before - The dropdown container for the before buffer time\n * @part nbt__dropdown-button-before - The dropdown button for the before buffer time\n * @part nbt__dropdown-content-before - The dropdown content for the before buffer time\n * @part nbt__dropdown-after - The dropdown container for the after buffer time\n * @part nbt__dropdown-button-after - The dropdown button for the after buffer time\n * @part nbt__dropdown-content-after - The dropdown content for the after buffer time\n * @part nbt__preview - The preview container\n */\n@Component({\n  tag: 'nylas-buffer-time',\n  styleUrl: 'nylas-buffer-time.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasBufferTime {\n  @Element() host!: HTMLNylasCalendarPickerElement;\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'buffer-time';\n  /**\n   * The buffer time\n   */\n  @Prop() buffer: { before: number; after: number } = { before: 0, after: 0 };\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The selected before buffer time.\n   */\n  @State() selectedBeforeBufferTime: number = this.buffer.before;\n\n  /**\n   * The selected after buffer time.\n   */\n  @State() selectedAfterBufferTime: number = this.buffer.after;\n\n  /**\n   * This event is fired when the selected calendars change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-buffer-time', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-buffer-time', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-buffer-time', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-buffer-time', 'componentDidLoad');\n    // TODO: Remove this when the internals in tests are fixed.\n    if (typeof this.internals.setFormValue === 'function') {\n      const bufferTime = {\n        before: this.selectedBeforeBufferTime,\n        after: this.selectedAfterBufferTime,\n      };\n      this.internals.setFormValue(JSON.stringify(bufferTime), this.name);\n    }\n    this.selectedAfterBufferTime = this.buffer.after;\n    this.selectedBeforeBufferTime = this.buffer.before;\n  }\n\n  componentWillUpdate() {\n    debug('nylas-buffer-time', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-buffer-time', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-buffer-time', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-buffer-time', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-buffer-time', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Listen('selectedOptionChanged')\n  selectedOptionChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-buffer-time', 'selectedOptionChangedHandler', event.detail);\n    // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n    const valueChanged = (event: CustomEvent<{ value: string; name: string }>) => {\n      const { value, name } = event.detail;\n      if (name === 'before-buffer-time') {\n        this.selectedBeforeBufferTime = parseInt(value);\n      } else if (name === 'after-buffer-time') {\n        this.selectedAfterBufferTime = parseInt(value);\n      }\n      const bufferTime = {\n        before: this.selectedBeforeBufferTime,\n        after: this.selectedAfterBufferTime,\n      };\n      this.internals.setFormValue(JSON.stringify(bufferTime), 'booking-calendar');\n    };\n    this.valueChanged.emit({ ...event.detail, valueChanged });\n  }\n\n  renderPreview() {\n    const totalSlots = 4;\n    const slotHeight = 10; // The height for each 30-minute slot\n\n    // Event slot height is constant\n    const eventSlotHeight = slotHeight * 2;\n\n    // Helper function to determine the fill of a slot based on the minutes selected\n    const slotFill = minutes => {\n      const fullSlots = Math.floor(minutes / 30);\n      const partialFillHeight = ((minutes % 30) / 30) * slotHeight;\n\n      return {\n        fullSlots,\n        partialFillHeight,\n      };\n    };\n\n    // Helper function to create before slots\n    const createBeforeSlots = () => {\n      const { fullSlots, partialFillHeight } = slotFill(this.selectedBeforeBufferTime);\n\n      return Array.from({ length: totalSlots }, (_, index) => {\n        // Slot is active if its index is greater than the total slots minus the full slots minus one\n        // and there are some minutes selected.\n        const isActive = this.selectedBeforeBufferTime > 0 && index > totalSlots - fullSlots - 1;\n        const isPartial = this.selectedBeforeBufferTime > 0 && index === totalSlots - fullSlots - 1 && partialFillHeight > 0;\n\n        let slotStyle: {\n          backgroundColor?: string;\n          background?: string;\n        } = {};\n        if (isActive && !isPartial) {\n          slotStyle.backgroundColor = 'var(--nylas-base-100)';\n        } else if (isPartial) {\n          slotStyle.background = `linear-gradient(to top, var(--nylas-base-100) ${partialFillHeight}px, transparent 0)`;\n        }\n\n        return (\n          <div\n            key={index}\n            class={`slot ${isActive ? 'active' : ''}`}\n            style={{\n              height: `${slotHeight}px`,\n              ...slotStyle,\n            }}\n          ></div>\n        );\n      });\n    };\n\n    // Helper function to create after slots\n    const createAfterSlots = () => {\n      const { fullSlots, partialFillHeight } = slotFill(this.selectedAfterBufferTime);\n\n      return Array.from({ length: totalSlots }, (_, index) => {\n        const isActive = this.selectedAfterBufferTime > 0 && index < fullSlots;\n        const isPartial = index === fullSlots && partialFillHeight > 0;\n\n        let slotStyle: {\n          backgroundColor?: string;\n          background?: string;\n        } = {};\n        if (isActive && !isPartial) {\n          slotStyle.backgroundColor = 'var(--nylas-base-100)';\n        } else if (isPartial) {\n          slotStyle.background = `linear-gradient(to bottom, var(--nylas-base-100) ${partialFillHeight}px, transparent 0)`;\n        }\n\n        return (\n          <div\n            key={index}\n            class={`slot ${isActive ? 'active' : ''}`}\n            style={{\n              height: `${slotHeight}px`,\n              ...slotStyle,\n            }}\n          ></div>\n        );\n      });\n    };\n\n    return (\n      <div class=\"preview-container\">\n        {createBeforeSlots()}\n        <div class=\"event-slot\" style={{ height: `${eventSlotHeight}px` }}></div>\n        {createAfterSlots()}\n      </div>\n    );\n  }\n\n  @RegisterComponent<NylasBufferTime, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-buffer-time',\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const minuteOptions = Array.from({ length: 24 }, (_, i) => {\n      const value = (i + 1) * 5;\n      return {\n        label: value.toString(),\n        value: value,\n      };\n    });\n\n    return (\n      <Host>\n        <div class=\"nylas-buffer-time\" part=\"nbt\">\n          <div class=\"header\" part=\"nbt__header\">\n            <h3>Buffer time</h3>\n            <p>Add buffer time before and after the event.</p>\n          </div>\n          <div class=\"nylas-buffer-time__body\" part=\"nbt__body\">\n            <div class=\"nylas-buffer-time__dropdown\">\n              <div class=\"nylas-buffer-time__row\">\n                <label>Before the event</label>\n                <div class=\"dropdown-container\">\n                  <select-dropdown\n                    id=\"before-buffer-time\"\n                    withSearch={false}\n                    name=\"before-buffer-time\"\n                    exportparts=\"sd_dropdown: nbt__dropdown-before, sd_dropdown-button: nbt__dropdown-button-before, sd_dropdown-content: nbt__dropdown-content-before\"\n                    options={minuteOptions}\n                    defaultSelectedOption={minuteOptions.find(min => min.value == this.selectedBeforeBufferTime) ?? minuteOptions[0]}\n                  />\n                  <span>mins</span>\n                </div>\n              </div>\n              <div class=\"nylas-buffer-time__row\">\n                <label>After the event</label>\n                <div class=\"dropdown-container\">\n                  <select-dropdown\n                    id=\"after-buffer-time\"\n                    withSearch={false}\n                    name=\"after-buffer-time\"\n                    exportparts=\"sd_dropdown: nbt__dropdown-after, sd_dropdown-button: nbt__dropdown-button-after, sd_dropdown-content: nbt__dropdown-content-after\"\n                    options={minuteOptions}\n                    defaultSelectedOption={minuteOptions.find(min => min.value == this.selectedAfterBufferTime) ?? minuteOptions[0]}\n                  />\n                  <span>mins</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"nylas-buffer-time__preview\" part=\"nbt__preview\">\n              <h4>PREVIEW</h4>\n              {this.renderPreview()}\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-calendar-picker {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n  .nylas-calendar-picker__loading {\n    padding-bottom: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    .label {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      margin: 1rem 1rem 0;\n      color: var(--nylas-base-800);\n      tooltip-component {\n        display: flex;\n      }\n    }\n    .loading-button {\n      margin: 0 1rem;\n      padding: 0;\n      width: inherit;\n      height: 48px;\n      color: black;\n      font-size: 1rem;\n      cursor: not-allowed;\n      display: flex;\n      gap: 0.5rem;\n      justify-content: space-between;\n      align-items: center;\n      background: transparent;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      span {\n        padding: 0 1rem;\n      }\n    }\n  }\n  .nylas-calendar-picker__dropdown {\n    padding: 1rem;\n    multi-select-dropdown::part(msd_dropdown) {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n    }\n    multi-select-dropdown::part(msd_dropdown-button) {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 1rem;\n    }\n    multi-select-dropdown::part(msd_dropdown-content) {\n      width: 100%;\n      max-width: unset;\n    }\n    multi-select-dropdown::part(msd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { Calendar } from '@nylas/core';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { User } from '@/common/nylas-api-request';\n\n/**\n * The `nylas-calendar-picker` component is a form input for selecting calendars.\n * @part ncp - The calendar picker container\n * @part ncp__header - The header of the calendar picker\n * @part ncp__dropdown - The dropdown container\n * @part ncp__dropdown-button - The dropdown button\n * @part ncp__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-calendar-picker',\n  styleUrl: 'nylas-calendar-picker.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasCalendarPicker {\n  @Element() host!: HTMLNylasCalendarPickerElement;\n  /**\n   * The calendars to choose from.\n   */\n  @Prop() calendars?: Calendar[];\n  /**\n   * The logged in user.\n   */\n  @Prop() currentUser?: User;\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'calendar';\n  /**\n   * The default selected calendars.\n   */\n  @Prop() defaultSelectedCalendars: string[] = [];\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The selected calendars.\n   */\n  @State() selectedCalendars: string[] = [];\n\n  /**\n   * This event is fired when the selected calendars change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string[];\n    name: string;\n    valueChangedHandler?: (event: CustomEvent<{ value: string[]; name: string }>) => void;\n  }>;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-calendar-picker', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-calendar-picker', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-calendar-picker', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-calendar-picker', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-calendar-picker', 'componentDidLoad');\n    // TODO: Remove this when the internals in tests are fixed.\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(this.defaultSelectedCalendars.toString(), 'calendar');\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-calendar-picker', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-calendar-picker', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-calendar-picker', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-calendar-picker', 'componentDidRender');\n  }\n\n  @Listen('selectedOptionsChanged')\n  selectedOptionsChangedHandler(event: CustomEvent<{ value: string[]; name: string }>) {\n    debug('nylas-calendar-picker', 'selectedOptionChangedHandler', event.detail);\n    // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n    const valueChangedHandler = (event: CustomEvent<{ value: string[]; name: string }>) => {\n      const { value } = event.detail;\n      this.selectedCalendars = [...value];\n      this.internals.setFormValue(value.toString(), 'calendar');\n    };\n    this.valueChanged.emit({ ...event.detail, name: this.name, valueChangedHandler });\n  }\n\n  @RegisterComponent<NylasCalendarPicker, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-calendar-picker',\n    stateToProps: new Map([\n      ['schedulerConfig.calendars', 'calendars'],\n      ['schedulerConfig.currentUser', 'currentUser'],\n    ]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string[]; name: string; valueChangedHandler?: (event: CustomEvent<{ value: string[]; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChangedHandler } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChangedHandler) {\n          valueChangedHandler(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const calendarOptions =\n      this.calendars?.map(calendar => {\n        return {\n          value: calendar.id,\n          label: calendar.name,\n          selected:\n            this.defaultSelectedCalendars?.includes(calendar.id) ||\n            (this.defaultSelectedCalendars?.includes('primary') || this.defaultSelectedCalendars?.length === 0 ? calendar.id === this.currentUser?.email : false),\n        };\n      }) ?? [];\n\n    return (\n      <Host>\n        <div class=\"nylas-calendar-picker\" part=\"ncp\">\n          <div class=\"header\" part=\"ncp__header\">\n            <h3>Calendar availability</h3>\n            <p>Select calendars that you’d like to use for checking your availability.</p>\n          </div>\n\n          {calendarOptions.length > 0 ? (\n            <div class=\"nylas-calendar-picker__dropdown\">\n              <multi-select-dropdown\n                name={'calendar'}\n                label=\"Select calendars that will be checked for availability\"\n                options={calendarOptions}\n                exportparts=\"msd__dropdown: ncp__dropdown, msd__dropdown-button: ncp__dropdown-button, msd__dropdown-content: ncp__dropdown-content\"\n              >\n                <span slot=\"label-icon\">\n                  <tooltip-component>\n                    <info-icon slot=\"tooltip-icon\" />\n                    <span slot=\"tooltip-content\">\n                      Check availability across one or multiple calendars. If multiple calendars are selected, you must be available across all of them to be considered available.\n                      The default is your primary calendar if none are selected.\n                    </span>\n                  </tooltip-component>\n                </span>\n              </multi-select-dropdown>\n            </div>\n          ) : (\n            <div class=\"nylas-calendar-picker__loading\">\n              <span class=\"label\">\n                Select calendars that will be checked for availability <info-icon />\n              </span>\n              <div class=\"loading-button\">\n                <span>Loading...</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-event-description {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n  textarea {\n    padding: 12px 16px;\n    border-width: 1;\n    resize: vertical;\n    border-radius: 8px;\n    font-family: var(--nylas-font-family);\n    font-size: 16px;\n    line-height: 24px;\n    border: 1px solid var(--nylas-base-200);\n    &::-webkit-resizer {\n      display: none;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-event-description` component is a form input for the description of an event.\n * @part nedesc - The event description container\n * @part nedesc__textarea - The event description textarea\n */\n@Component({\n  tag: 'nylas-event-description',\n  styleUrl: 'nylas-event-description.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventDescription {\n  /**\n   * The host element <nylas-event-description>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The event description stored in the configuration\n   */\n  @Prop() eventDescription?: string;\n\n  /**\n   * The name of the event description input.\n   */\n  @Prop() name: string = 'description';\n  /**\n   * The selected event description state. This defaults to the event description from the configuration or an empty string.\n   */\n  @State() description: string = this.eventDescription || this.selectedConfiguration?.event_booking?.description || '';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-event-description', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration, oldValue: Configuration) {\n    debug('nylas-custom-booking-flow', 'selectedConfigurationChangedHandler', newValue, oldValue);\n    if (newValue?.event_booking?.description) {\n      this.description = newValue?.event_booking?.description;\n    }\n  }\n  /**\n   * Event emitted when the event description changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-event-description', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-description', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-description', 'componentDidLoad');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-description', 'disconnectedCallback');\n  }\n\n  handleChange(event) {\n    this.description = event.target.value;\n    this.internals.setFormValue(event.target.value, 'description');\n    this.valueChanged.emit({ value: event.target.value, name: this.name });\n  }\n\n  @RegisterComponent<NylasEventDescription, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-description',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-event-description\" part=\"nedesc\">\n          <label htmlFor=\"description\">\n            Event description\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Provide any additional details for your event.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          <textarea id=\"description\" part=\"nedesc__textarea\" name=\"description\" value={this.description} maxlength=\"8192\" onInput={e => this.handleChange(e)}></textarea>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n}\n\n.nylas-event-duration {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.required {\n      color: var(--nylas-error, #cc4841);\n    }\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n.nylas-event-duration__wrapper {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  input {\n    padding: 12px 16px;\n    border-width: 1;\n    border-radius: 8px;\n    border: 1px solid var(--nylas-base-200);\n    font-family: var(--nylas-font-family);\n    font-size: 16px;\n    line-height: 24px;\n    width: 48px;\n  }\n  select-dropdown::part(sd_dropdown-button) {\n    border: 1px solid var(--nylas-base-200);\n    border-radius: var(--nylas-border-radius-2x);\n    padding: 12px 16px;\n  }\n  select-dropdown::part(sd_dropdown-button-selected-label) {\n    font-family: var(--nylas-font-family);\n    font-size: 16px;\n    line-height: 24px;\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, Listen, State, h, Element, Prop, Watch, Event, EventEmitter } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-event-duration` component is a form input for the duration of an event.\n * @part ned - The event duration container\n * @part ned_input - The event duration input\n * @part ned__dropdown - The dropdown container\n * @part ned__dropdown-button - The dropdown button\n * @part ned__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-event-duration',\n  styleUrl: 'nylas-event-duration.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventDuration {\n  /**\n   * The host element <nylas-event-duration>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The name of the event duration. Default is 'duration'.\n   */\n  @Prop() name: string = 'duration';\n  /**\n   * The event duration in minutes as set in the configuration.\n   */\n  @Prop() eventDurationMinutes?: number;\n\n  /**\n   * The selected event duration state. This defaults to the event duration from the configuration or 5 minutes.\n   */\n  @State() duration: number = this.eventDurationMinutes ? (this.eventDurationMinutes >= 60 ? this.eventDurationMinutes / 60 : this.eventDurationMinutes) : 5;\n  /**\n   * The duration in minutes. This defaults to the event duration from the configuration or 5 minutes.\n   */\n  @State() durationMinutes: number = this.eventDurationMinutes ?? 5;\n  /**\n   * The duration increment. This defaults to minute(s).\n   */\n  @State() durationIncrement: number = this.eventDurationMinutes ? (this.eventDurationMinutes >= 60 ? 60 : 1) : 1;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-event-duration', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newVal: Configuration) {\n    const configDuration = newVal?.availability?.duration_minutes;\n    if (configDuration) {\n      this.duration = configDuration >= 60 ? configDuration / 60 : configDuration;\n      this.durationMinutes = configDuration ?? 5;\n      this.durationIncrement = configDuration >= 60 ? 60 : 1;\n    }\n  }\n\n  @Watch('durationMinutes')\n  durationMinutesChangedHandler(newValue: number, oldValue: number) {\n    debug('nylas-event-duration', 'durationMinutesChangedHandler', newValue);\n    if (newValue === oldValue) {\n      return;\n    }\n    this.valueChanged.emit({ value: newValue.toString(), name: this.name });\n  }\n\n  /**\n   * Event emitted when the event duration changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-event-duration', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-duration', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-duration', 'componentDidLoad');\n    this.internals.setFormValue(this.durationMinutes.toString(), 'duration');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-duration', 'disconnectedCallback');\n  }\n\n  handleChange(event) {\n    this.duration = event.target.value;\n    this.durationMinutes = this.duration * this.durationIncrement;\n    this.internals.setFormValue(this.durationMinutes.toString(), this.name);\n  }\n  handleBlur() {\n    if ((this.duration === null || this.duration === undefined) && this.durationIncrement === 1) {\n      this.duration = 5;\n    }\n    if ((this.duration <= 0 || this.duration === null || this.duration === undefined) && this.durationIncrement === 60) {\n      this.duration = 1;\n    }\n    if (this.duration < 5 && this.durationIncrement === 1) {\n      this.duration = 5;\n    }\n    this.durationMinutes = this.duration * this.durationIncrement;\n    this.internals.setFormValue(this.durationMinutes.toString(), 'duration');\n  }\n\n  @Listen('selectedOptionChanged')\n  selectedOptionChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-calendar-picker', 'selectedOptionChangedHandler', event.detail);\n    const { value } = event.detail;\n    this.durationIncrement = parseInt(value);\n    if (this.durationIncrement === 1) {\n      this.duration = 5;\n    } else {\n      this.duration = 1;\n    }\n\n    this.durationMinutes = this.duration * this.durationIncrement;\n    this.internals.setFormValue(this.durationMinutes.toString(), 'duration');\n  }\n\n  @RegisterComponent<NylasEventDuration, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-duration',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    const durationOptions = [\n      { value: 1, label: 'minutes' },\n      { value: 60, label: 'hours' },\n    ];\n    return (\n      <Host>\n        <div class=\"nylas-event-duration\" part=\"ned\">\n          <label htmlFor=\"duration\">\n            Event duration<span class=\"required\">*</span>\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Set the duration of your event.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          <div class=\"nylas-event-duration__wrapper\">\n            <input\n              type=\"number\"\n              part=\"ned_input\"\n              id=\"duration\"\n              name=\"duration\"\n              value={this.duration}\n              onBlur={() => this.handleBlur()}\n              onInput={e => this.handleChange(e)}\n              min={5}\n            />\n            <select-dropdown\n              name={'event-duration'}\n              options={durationOptions}\n              exportparts=\"sd__dropdown: ned__dropdown, sd__dropdown-button: ned__dropdown-button, sd__dropdown-content: ned__dropdown-content\"\n              defaultSelectedOption={durationOptions.find(i => i.value == this.durationIncrement) ?? durationOptions[0]}\n              withSearch={false}\n            />\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  margin: 1rem;\n  @include default-css-variables;\n}\n\n.nylas-event-info__title {\n  color: var(--nylas-base-900);\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px; /* 125% */\n  margin: 0;\n  text-align: left;\n}\n.nylas-event-info__subtitle {\n  color: var(--nylas-base-600);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px; /* 142.857% */\n  margin: 0.25rem 0px 0px;\n  text-align: left;\n}\n.nylas-event-info__content {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.nylas-event-info__block {\n  display: flex;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\n\n/**\n * The `nylas-event-info` component is a input form for the event information.\n */\n@Component({\n  tag: 'nylas-event-info',\n  styleUrl: 'nylas-event-info.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventInfo {\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  connectedCallback() {\n    debug('nylas-event-info', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-info', 'componentWillLoad');\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-info', 'componentDidLoad');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-info', 'disconnectedCallback');\n  }\n\n  @RegisterComponent<NylasEventInfo, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-info',\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <nylas-form-card>\n          <h1 slot=\"header-title\" class=\"nylas-event-info__title\">\n            Event information\n          </h1>\n          <h3 slot=\"header-subtitle\" class=\"nylas-event-info__subtitle\">\n            Enter all event information.\n          </h3>\n          <div slot=\"content\" class=\"nylas-event-info__content\">\n            <slot name=\"inputs\"></slot>\n          </div>\n        </nylas-form-card>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  margin: 1rem;\n  @include default-css-variables;\n}\n\n.nylas-event-limits__title {\n  color: var(--nylas-base-900);\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px; /* 125% */\n  margin: 0;\n  text-align: left;\n}\n.nylas-event-limits__subtitle {\n  color: var(--nylas-base-600);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px; /* 142.857% */\n  margin: 0.25rem 0px 0px;\n  text-align: left;\n}\n.nylas-event-limits__content {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.nylas-event-limits__block {\n  display: flex;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\n\n/**\n * The `nylas-event-limits` component is a input form for the event information.\n */\n@Component({\n  tag: 'nylas-event-limits',\n  styleUrl: 'nylas-event-limits.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventLimits {\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  connectedCallback() {\n    debug('nylas-event-limits', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-limits', 'componentWillLoad');\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-limits', 'componentDidLoad');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-limits', 'disconnectedCallback');\n  }\n\n  @RegisterComponent<NylasEventLimits, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-limits',\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <nylas-form-card>\n          <h1 slot=\"header-title\" class=\"nylas-event-limits__title\">\n            Set event limits\n          </h1>\n          <h3 slot=\"header-subtitle\" class=\"nylas-event-limits__subtitle\">\n            Customize event limits for the event.\n          </h3>\n          <div slot=\"content\" class=\"nylas-event-limits__content\">\n            <slot name=\"inputs\"></slot>\n          </div>\n        </nylas-form-card>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n}\n\n.nylas-event-title {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  position: relative;\n  text-align: left;\n  div.title {\n    padding: 12px 16px;\n    border: 1px solid var(--nylas-base-200);\n    border-radius: var(--nylas-border-radius-2x);\n    overflow: scroll;\n    white-space: nowrap;\n    scrollbar-width: thin;\n    &::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n    }\n    &.error {\n      border-color: var(--nylas-error);\n      outline: none;\n    }\n  }\n  input {\n    padding: 12px 16px;\n    border-width: 1;\n    border-radius: 8px;\n    border: 1px solid var(--nylas-base-200);\n  }\n  span.help-text {\n    color: var(--nylas-base-800);\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 21px;\n  }\n  span.error-message {\n    color: var(--nylas-error);\n  }\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.required {\n      color: var(--nylas-error, #cc4841);\n    }\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n\n.highlighted-tag {\n  background-color: var(--nylas-base-200);\n  border-radius: var(--nylas-border-radius);\n  padding: 5px;\n  margin-left: 4px;\n}\n\n.token-options {\n  display: block;\n  background-color: var(--nylas-base-0);\n  width: 100%;\n  max-height: 336px;\n  overflow: auto;\n  z-index: 1;\n  border-radius: 4px;\n  position: absolute;\n  top: calc(48px + 24px + 8px); // 48px is the height of the input, 24px is the height of the label, 8px is the gap between the label and the input\n  @media #{$mobile} {\n    right: 0;\n    width: 325px;\n    max-width: unset;\n  }\n  box-shadow: 0px 4px 6px -2px #0000000d;\n  box-shadow: 0px 10px 15px -3px #0000001a;\n  ul {\n    padding: 0;\n    list-style-type: none;\n    color: var(--nylas-base-900);\n    max-height: 336px;\n    margin: 0;\n    li {\n      padding: 16px, 12px, 16px, 12px;\n      color: black;\n      padding: 12px 16px;\n      text-decoration: none;\n      display: block;\n      font-family: inherit;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 20px;\n      letter-spacing: 0px;\n      text-align: left;\n      cursor: pointer;\n      .token-label {\n        display: flex;\n        flex-direction: column;\n        font-weight: 400;\n        .token {\n          color: var(--nylas-abse-900);\n          font-size: 16px;\n          line-height: 24px;\n        }\n        .description {\n          color: var(--nylas-base-600);\n          font-size: 14px;\n          line-height: 21px;\n        }\n      }\n      &:hover,\n      &:focus,\n      &:active,\n      &.active {\n        background-color: var(--nylas-base-100);\n        .token-label {\n          .token {\n            color: var(--nylas-primary);\n          }\n        }\n      }\n    }\n  }\n  .selected {\n    background-color: var(--nylas-base-100);\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, getBrowser, isNonPrintableKey } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { EVENT_TITLE_TOKENS as eventTitleTokens } from '@/common/constants';\nimport { Configuration } from '@nylas/core';\n\ninterface CustomShadowRoot extends ShadowRoot {\n  getSelection: () => Selection | null;\n}\n\ntype Token = {\n  token: string;\n  value: string;\n  description: string;\n};\n\n/**\n * The `nylas-event-title` component is a form input for the title of an event.\n * @part net - The event title container\n * @part net__title - The event title input\n * @part net__dropdown-content - The token options container\n */\n@Component({\n  tag: 'nylas-event-title',\n  styleUrl: 'nylas-event-title.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventTitle {\n  @Element() host!: HTMLElement;\n  @AttachInternals() internals!: ElementInternals;\n\n  // Properties\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The title of the event from the cofiguration.\n   */\n  @Prop() eventTitle?: string = this.selectedConfiguration?.event_booking?.title;\n  /**\n   * The name attribute of this component.\n   */\n  @Prop() name: string = 'title';\n\n  // State variables\n  /**\n   * Whether to show the tokens dropdown.\n   */\n  @State() showTokens: boolean = false;\n  /**\n   * The available token options for the dropdown.\n   */\n  @State() availableTokens: { label: string; value: string; labelHTML: Token }[] = eventTitleTokens.map(token => ({\n    label: token.token,\n    value: token.value,\n    labelHTML: token,\n  }));\n  /**\n   * The filtered token options for the dropdown based on the current query.\n   */\n  @State() filteredTokens: { label: string; value: string; labelHTML: Token }[] = this.availableTokens;\n  /**\n   * The aria-activedescendant attribute value. This is used to indicate the\n   * currently active descendant in the tokens dropdown.\n   */\n  @State() ariaActivedescendant: string = '';\n  /**\n   * Stores the reference to the current word being typed.\n   * This is used to update the event title with the selected token tag when\n   * an option is selected from the dropdown by clicking on it.\n   */\n  @State() currentWord: {\n    $value: string;\n    fullText: string;\n    index: number;\n    focusOffset: number;\n  } = { $value: '', fullText: '', index: -1, focusOffset: -1 };\n\n  @State() validationError: string = '';\n\n  // Reference to the title div element\n  private titleRef!: HTMLDivElement;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-event-title', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('ariaActivedescendant')\n  ariaActivedescendantChangedHandler(newValue: string) {\n    debug('nylas-event-title', 'ariaActivedescendantChangedHandler', newValue);\n    if (newValue !== '') {\n      const activeOption = this.host.shadowRoot?.getElementById(newValue);\n      activeOption?.classList.add('active');\n    } else {\n      const options = this.host.shadowRoot?.querySelectorAll('.token-options li.active');\n      options?.forEach(option => option.classList.remove('active'));\n    }\n  }\n\n  @Watch('selectedConfiguration')\n  configChangedHandler(newVal) {\n    const title = newVal?.event_booking?.title;\n    if (title) {\n      this.updateEventTitleFromProp(title);\n    }\n  }\n\n  // Events\n  /**\n   * This event is fired when the value of the event title changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-event-title', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-title', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-title', 'componentDidLoad');\n    this.updateEventTitleFromProp(this.eventTitle || '');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-title', 'disconnectedCallback');\n  }\n\n  @Listen('formSubmitted', { target: 'window' })\n  formSubmittedHandler(event: CustomEvent) {\n    debug('nylas-event-title', 'formSubmittedHandler', event);\n    if (!this.internals?.validity?.valid) {\n      this.validationError = 'Event title is required';\n    } else {\n      this.validationError = '';\n    }\n  }\n\n  updateEventTitleFromProp(newValue: string) {\n    debug('nylas-event-title', 'eventTitleChangedHandler', newValue);\n    if (this.titleRef) {\n      this.titleRef.innerHTML = this.highlightTokens(newValue);\n      this.titleRef.focus();\n      if (typeof this.internals.setValidity === 'function') {\n        if (newValue === '') {\n          this.internals?.setValidity({ customError: true }, `Event title is required`, this.titleRef);\n        } else {\n          this.internals?.setValidity({ customError: false });\n        }\n      }\n    }\n  }\n\n  highlightTokens(title: string) {\n    let outputHtml = title;\n\n    eventTitleTokens.forEach(tokenObj => {\n      const token = tokenObj.value;\n      // Create a regular expression that matches the token as a whole word\n      const regex = new RegExp(`(\\\\${token})(?!\\\\w)`, 'g');\n      // Replace the token with a span element\n      outputHtml = outputHtml.replace(regex, '<span class=\"highlighted-tag\">$1</span>');\n    });\n    return outputHtml;\n  }\n\n  getCurrentSelectionForBrowser() {\n    const getSelectionTextData = (nodeValue, offset, node, allSelected) => {\n      // Remove zero-width space characters from the text, because they are not visible and cause issues with the selection\n      const text = nodeValue.replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\n      const dollarIndex = text.lastIndexOf('$');\n      const lastWord = text.substring(dollarIndex).split(' ')[0];\n      return {\n        focusOffset: offset,\n        dollarIndex,\n        lastWord,\n        currentText: text,\n        node,\n        allSelected,\n      };\n    };\n\n    // Check if the selection has selected all the text in the node, we need this to handle the case where the user selects all the text and then types or deletes\n    const isAllSelected = (selection: Selection) => selection.anchorOffset === 0 && selection.focusOffset === selection.focusNode?.nodeValue?.length;\n\n    const currentBrowser = getBrowser();\n    switch (currentBrowser) {\n      case 'Chrome':\n        const shadowRootSelection = (this.host.shadowRoot as CustomShadowRoot)?.getSelection();\n        const focusNode = shadowRootSelection?.focusNode;\n        const focusNodeValue = focusNode?.nodeValue || '';\n        const allSelected = shadowRootSelection && isAllSelected(shadowRootSelection);\n        return getSelectionTextData(focusNodeValue, shadowRootSelection?.focusOffset || -1, focusNode, allSelected);\n      case 'Firefox':\n        const selection = document.getSelection();\n        const anchorNodeValue = selection?.anchorNode?.nodeValue || '';\n        const allSelectedFirefox = selection && isAllSelected(selection);\n        return getSelectionTextData(anchorNodeValue, selection?.focusOffset || -1, selection?.anchorNode, allSelectedFirefox);\n      case 'Safari':\n        const windowSelection = window.getSelection();\n        const anchorNode = (windowSelection as any)?.getComposedRanges(this.host.shadowRoot as CustomShadowRoot)[0];\n        const currentText = anchorNode?.startContainer?.nodeValue || '';\n        const allSelectedSafari = windowSelection && isAllSelected(windowSelection);\n        return getSelectionTextData(currentText, anchorNode?.endOffset || -1, anchorNode?.startContainer, allSelectedSafari);\n      default:\n        console.warn('Browser not supported');\n        return null;\n    }\n  }\n\n  handleChange(event: Event) {\n    const textContent = (event.target as HTMLDivElement).textContent || '';\n    // All browsers handle Selection within Shadow DOM differently, so get the current selection based on the browser\n    const currentSelection = this.getCurrentSelectionForBrowser();\n    if (!currentSelection) {\n      this.updateEventTitle(textContent);\n      this.resetDropdown();\n      return;\n    }\n    const { focusOffset, dollarIndex, lastWord, currentText } = currentSelection;\n\n    if (dollarIndex === -1 || focusOffset < dollarIndex) {\n      this.updateEventTitle(textContent);\n      this.resetDropdown();\n      return;\n    }\n    if (lastWord.startsWith('$')) {\n      this.showTokens = true;\n      // Update the current word being typed, we need this reference to update the event title with the selected token\n      // because the user can select an option from the dropdown by clicking on it, which will not trigger the input event.\n      this.currentWord = {\n        $value: lastWord,\n        fullText: currentText,\n        index: dollarIndex,\n        focusOffset,\n      };\n      this.populateSuggestionsDropdown(lastWord);\n    } else {\n      this.resetDropdown();\n    }\n    this.updateEventTitle(textContent);\n  }\n\n  handleInputKeyDown(event) {\n    const selection = this.getCurrentSelectionForBrowser();\n\n    // If no text is remaining in the title, reset the title to an empty string\n    if (selection?.allSelected && !isNonPrintableKey(event)) {\n      this.titleRef.innerHTML = '';\n    }\n\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      const activeOption = this.host.shadowRoot?.getElementById(this.ariaActivedescendant);\n      if (activeOption) {\n        activeOption.click();\n        this.ariaActivedescendant = '';\n      }\n    } else if (event.key === 'ArrowDown') {\n      event.preventDefault();\n      const activeOption = this.host.shadowRoot?.getElementById(this.ariaActivedescendant);\n      if (activeOption) {\n        const nextOption = activeOption.nextElementSibling;\n        if (nextOption) {\n          this.ariaActivedescendant = nextOption.id;\n        } else {\n          this.ariaActivedescendant = this.filteredTokens[0].label;\n        }\n      } else {\n        this.ariaActivedescendant = this.filteredTokens[0].label;\n      }\n    } else if (event.key === 'ArrowUp') {\n      event.preventDefault();\n      const activeOption = this.host.shadowRoot?.getElementById(this.ariaActivedescendant);\n      if (activeOption) {\n        const prevOption = activeOption.previousElementSibling;\n        if (prevOption) {\n          this.ariaActivedescendant = prevOption.id;\n        } else {\n          this.ariaActivedescendant = this.filteredTokens[this.filteredTokens.length - 1].label;\n        }\n      } else {\n        this.ariaActivedescendant = this.filteredTokens[this.filteredTokens.length - 1].label;\n      }\n    } else if (event.key === 'Escape') {\n      event.preventDefault();\n      this.resetDropdown();\n    } else if (event.key === 'Backspace' || event.key === 'Delete') {\n      if (selection?.currentText.startsWith('${')) {\n        selection?.node?.parentNode && selection.node.parentNode.removeChild(selection.node);\n      }\n      if (this.titleRef.textContent === '' || selection?.currentText === '' || selection?.allSelected) {\n        this.titleRef.innerHTML = '';\n      }\n    }\n  }\n\n  selectOption(e: Event, option: { label: string; value: string; labelHTML: Token }) {\n    e.preventDefault();\n    const word = this.currentWord.fullText;\n    const dollarWord = this.currentWord.$value;\n\n    // Traverse the DOM to find the text node that contains the current word fullText\n    let currentNode = this.titleRef.firstChild;\n    let textNode: ChildNode | null = null;\n\n    while (currentNode) {\n      if (currentNode.nodeType === 3) {\n        const currentNodeText = currentNode.textContent?.replace(/[\\u200B-\\u200D\\uFEFF]/g, '') || '';\n        const wordText = word.replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\n        if (currentNodeText.includes(wordText)) {\n          textNode = currentNode;\n          break;\n        }\n      }\n      currentNode = currentNode.nextSibling;\n    }\n\n    if (!textNode) {\n      return;\n    }\n    // Split the text node into three parts: text before the token, the token, and text after the token\n    const text = textNode.textContent || '';\n    const index = text.indexOf(dollarWord);\n    const textBefore = text.substring(0, index);\n    const textAfter = text.substring(index + dollarWord.length);\n    const newTextNode = document.createTextNode(textBefore);\n    const newRange = document.createRange();\n\n    // Create a new span element to replace the text node\n    const tagSpan = document.createElement('span');\n    tagSpan.classList.add('highlighted-tag');\n    tagSpan.textContent = `${option.value}`;\n    const newTextNodeAfter = document.createTextNode(textAfter);\n\n    if (textAfter !== '') {\n      // If there is text after the token, add it to the new span element\n      textNode.replaceWith(newTextNode, tagSpan, newTextNodeAfter);\n      newRange.setStart(newTextNodeAfter, 1);\n    } else {\n      // If there is no text after the token, add a zero-width space character (Without this, the cursor will not move outside the highlighted span element)\n      const afterNode = document.createTextNode('\\u200B');\n      textNode.replaceWith(newTextNode, tagSpan, afterNode);\n      newRange.setStart(afterNode, 1);\n    }\n\n    // Hide the dropdown\n    this.resetDropdown();\n    this.titleRef.focus();\n\n    // Set the focus to the new span element\n    const sel = window.getSelection();\n    newRange.collapse(true);\n    sel?.removeAllRanges();\n    sel?.addRange(newRange);\n\n    // Update the event title with the selected token\n    this.updateEventTitle(this.titleRef.textContent || '');\n  }\n\n  populateSuggestionsDropdown(query: string = '') {\n    this.filteredTokens = this.availableTokens.filter(obj => {\n      return obj.label.startsWith(query.toString()) || obj.value.startsWith(query.toString());\n    });\n\n    // Set the first option as the active descendant\n    if (this.filteredTokens.length > 0) {\n      this.ariaActivedescendant = this.filteredTokens[0].label;\n    }\n  }\n\n  updateEventTitle(text: string) {\n    const value = text.replace(/ +/g, ' ');\n    if (value === '') {\n      this.internals?.setValidity({ customError: true }, `Event title is required`, this.titleRef);\n      this.validationError = 'Event title is required';\n    } else {\n      this.internals?.setValidity({ customError: false });\n      this.validationError = '';\n    }\n    this.internals?.setFormValue(value, this.name);\n    this.valueChanged.emit({ value: value, name: this.name });\n  }\n\n  resetDropdown() {\n    this.showTokens = false;\n    this.ariaActivedescendant = '';\n  }\n\n  getLabelHTML(token: { token: string; description: string }) {\n    return (\n      <div class=\"token-label\">\n        <span class=\"token\">{token.token}</span>\n        <span class=\"description\">{token.description}</span>\n      </div>\n    );\n  }\n\n  @RegisterComponent<NylasEventTitle, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-title',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-event-title\" part=\"net\">\n          <label htmlFor=\"title\">\n            Event title<span class=\"required\">*</span>\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Enter a title for your event.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          <div\n            class={{\n              title: true,\n              error: this.validationError !== '',\n            }}\n            part=\"net__title\"\n            ref={el => (this.titleRef = el as HTMLDivElement)}\n            contentEditable=\"true\"\n            onInput={e => this.handleChange(e)}\n            onKeyDown={event => this.handleInputKeyDown(event)}\n          ></div>\n          {this.showTokens && this.filteredTokens?.length > 0 && (\n            <div class=\"token-options\" part=\"net__dropdown-content\">\n              <ul tabindex=\"-1\" role=\"listbox\" aria-label={this.name} aria-activedescendant={this.ariaActivedescendant}>\n                {this.filteredTokens.map(option => (\n                  <li\n                    tabindex=\"0\"\n                    key={option.label}\n                    id={option.label}\n                    class={{ active: this.ariaActivedescendant === option.label }}\n                    onClick={e => this.selectOption(e, option)}\n                    role=\"option\"\n                  >\n                    {this.getLabelHTML(option.labelHTML)}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n          <span class=\"help-text\">Create a dynamic templated event title by typing $. Learn more</span>\n          {this.validationError != '' && <span class=\"error-message\">{this.validationError}</span>}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-limit-future-bookings {\n  display: flex;\n  justify-content: space-between;\n  font-family: var(--nylas-font-family);\n  @media #{$mobile} {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-limit-future-bookings` component is a form input for the description of an event.\n * @part nlfb - The limit future bookings container\n * @part nlfb__number-dropdown - The number dropdown container\n * @part nlfb__number-dropdown-button - The number dropdown button\n * @part nlfb__number-dropdown-content - The number dropdown content\n * @part nlfb__period-dropdown - The period dropdown container\n * @part nlfb__period-dropdown-button - The period dropdown button\n * @part nlfb__period-dropdown-content - The period dropdown content\n */\n@Component({\n  tag: 'nylas-limit-future-bookings',\n  styleUrl: 'nylas-limit-future-bookings.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasLimitFutureBookings {\n  /**\n   * The host element <nylas-limit-future-bookings>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The number of days into the future that invitees will see availability, as set in the configuration.\n   */\n  @Prop() availableDaysInFuture?: number;\n  /**\n   * The name of the limit future bookings input.\n   */\n  @Prop() name: string = 'limit-future-bookings';\n\n  /**\n   * The selected number for the available days in the future.\n   */\n  @State() selectedNumber: number = 1;\n  /**\n   * The selected period for the available days in the future.\n   */\n  @State() selectedPeriod: string = 'day';\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-limit-future-bookings', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newVal: Configuration) {\n    const daysInFuture = newVal?.scheduler?.available_days_in_future;\n    if (daysInFuture) {\n      this.updateNumberAndPeriodFromDays(daysInFuture);\n    }\n  }\n\n  @Watch('availableDaysInFuture')\n  availableDaysInFutureChanged(newValue: number) {\n    this.updateNumberAndPeriodFromDays(newValue);\n  }\n\n  /**\n   * Event emitted when the future booking limit changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-limit-future-bookings', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-limit-future-bookings', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-limit-future-bookings', 'componentDidLoad');\n    this.availableDaysInFutureChanged(this.availableDaysInFuture ?? 1);\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(this.availableDaysInFuture?.toString() ?? '1', this.name);\n  }\n\n  disconnectedCallback() {\n    debug('nylas-limit-future-bookings', 'disconnectedCallback');\n  }\n\n  @Listen('timePeriodChanged')\n  timePeriodChangedHandler(\n    event: CustomEvent<{\n      number: number;\n      period: string;\n    }>,\n  ) {\n    const { number, period } = event.detail;\n    let availableDaysInFuture;\n    if (period === 'day') {\n      availableDaysInFuture = number;\n    } else if (period === 'week') {\n      availableDaysInFuture = number * 7;\n    } else {\n      availableDaysInFuture = number * 30;\n    }\n    this.valueChanged.emit({ value: availableDaysInFuture, name: 'availableDaysInFuture' });\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(availableDaysInFuture.toString(), this.name);\n  }\n\n  updateNumberAndPeriodFromDays(days: number): void {\n    let number, period;\n    if (days >= 30 && days % 30 === 0) {\n      number = days / 30;\n      period = 'month';\n    } else if (days >= 7 && days % 7 === 0) {\n      number = days / 7;\n      period = 'week';\n    } else {\n      number = days;\n      period = 'day';\n    }\n    this.selectedNumber = number;\n    this.selectedPeriod = period;\n  }\n\n  @RegisterComponent<NylasLimitFutureBookings, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-limit-future-bookings',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-limit-future-bookings\" part=\"nlfb\">\n          <label>\n            Limit future bookings\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Set a limit on how far in the future bookings can be made.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          <time-period-selector\n            id=\"limit-future-bookings\"\n            timePeriods={['day', 'week', 'month']}\n            exportparts=\"tps__number-dropdown: nlfb__number-dropdown, tps__number-dropdown-button: nlfb__number-dropdown-button, tps__number-dropdown-content: nlfb__number-dropdown-content, tps__period-dropdown: nlfb__period-dropdown, tps__period-dropdown-button: nlfb__period-dropdown-button, tps__period-dropdown-content: nlfb__period-dropdown-content\"\n            defaultSelectedNumber={this.selectedNumber}\n            defaultSelectedPeriod={this.selectedPeriod}\n          />\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-event-location {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  font-family: var(--nylas-font-family);\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n\n  span[slot='select-icon'] {\n    border-right: 1px solid var(--nylas-base-200);\n    padding: 16px 0.75rem 16px 0.5rem;\n    border-radius: var(--nylas-border-radius-2x);\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n    height: 20px;\n  }\n  div.location-input {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    width: 100%;\n    gap: 0.5rem;\n    @media #{$mobile} {\n      grid-template-columns: 1fr;\n    }\n    input {\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 12px 16px;\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n  select-dropdown {\n    width: 208px;\n    @media #{$mobile} {\n      width: 100%;\n    }\n  }\n  select-dropdown::part(sd_dropdown) {\n    width: 100%;\n  }\n  select-dropdown::part(sd_dropdown-content) {\n    left: calc(35px + 0.5rem);\n  }\n  select-dropdown::part(sd_dropdown-button) {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    border: 1px solid var(--nylas-base-200);\n    padding: 0 0.5rem;\n  }\n  select-dropdown::part(sd_dropdown-button-selected-label) {\n    display: inline-flex;\n    align-self: center;\n    padding: 14px 0;\n    font-family: var(--nylas-font-family);\n    font-size: 16px;\n    line-height: 24px;\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-location-component` component is a form input for the description of an event.\n * @part nel - The event location container\n * @part nel__location - The event location input\n * @part nel__dropdown - The dropdown container\n * @part nel__dropdown-button - The dropdown button\n * @part nel__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-location-component',\n  styleUrl: 'nylas-location-component.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasLocationComponent {\n  /*\n   * The host element <nylas-location-component>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The name of the event location input.\n   */\n  @Prop() name: string = 'location';\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The event location stored in the configuration\n   */\n  @Prop() eventLocation?: string;\n  /**\n   * The selected event location state. This defaults to the event location from the configuration or an empty string.\n   */\n  @State() location: string = this.eventLocation ?? '';\n  /**\n   * The selected location option. This defaults to 'none'.\n   */\n  @State() selectedLocationOption: string = this.eventLocation ? 'custom' : 'none';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-location-component', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration, oldValue: Configuration) {\n    debug('nylas-custom-booking-flow', 'selectedConfigurationChangedHandler', newValue, oldValue);\n    const configLocation = newValue?.event_booking?.location;\n    if (configLocation) {\n      this.selectedLocationOption = configLocation ? 'custom' : 'none';\n      this.location = configLocation;\n    }\n  }\n\n  @Watch('eventLocation')\n  eventLocationChangedHandler(newValue: string, oldValue: string) {\n    debug('nylas-location-component', 'eventLocationChangedHandler', newValue);\n    if (newValue === oldValue) {\n      return;\n    }\n    this.selectedLocationOption = newValue ? 'custom' : 'none';\n  }\n\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-location-component', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-location-component', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-location-component', 'componentDidLoad');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-location-component', 'disconnectedCallback');\n  }\n\n  @Listen('selectedOptionChanged')\n  selectedOptionChangedHandler(event: CustomEvent<{ value: string }>) {\n    this.selectedLocationOption = event.detail.value;\n    if (this.selectedLocationOption === 'none') {\n      this.location = '';\n      this.setFormValue('', 'location');\n      this.valueChanged.emit({ value: '', name: this.name });\n    }\n  }\n\n  setFormValue(value: string, name: string) {\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(value, name);\n    }\n  }\n\n  handleChange(event) {\n    this.location = event.target.value;\n    this.setFormValue(event.target.value, 'location');\n    this.valueChanged.emit({ value: event.target.value, name: this.name });\n  }\n\n  @RegisterComponent<NylasLocationComponent, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-location-component',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    const locationOptions = [\n      { value: 'none', label: 'None' },\n      { value: 'custom', label: 'Custom location' },\n    ];\n    const icons = {\n      none: <location-off-icon />,\n      custom: <location-icon />,\n    };\n\n    return (\n      <Host>\n        <div class=\"nylas-event-location\" part=\"nel\">\n          <label htmlFor=\"location\">\n            Location type\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">\n                  Choose how you’ll meet with the participants at the scheduled time. Pick from available conferencing options or add a custom location.\n                </span>\n              </tooltip-component>\n            </span>\n          </label>\n          <div class=\"location-input\">\n            <select-dropdown\n              withSearch={false}\n              name=\"location\"\n              options={locationOptions}\n              defaultSelectedOption={locationOptions.find(i => i.value == this.selectedLocationOption)}\n              exportparts=\"sd__dropdown: nel__dropdown, sd__dropdown-button: nel__dropdown-button, sd__dropdown-content: nel__dropdown-content\"\n            >\n              <span slot=\"select-icon\">{icons[this.selectedLocationOption]}</span>\n            </select-dropdown>\n            {this.selectedLocationOption === 'custom' && (\n              <input type=\"text\" part=\"nel__location\" id=\"location\" name=\"location\" maxlength=\"1024\" value={this.location} onInput={e => this.handleChange(e)} />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-min-cancellation-notice {\n  display: flex;\n  justify-content: space-between;\n  font-family: var(--nylas-font-family);\n  @media #{$mobile} {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-min-cancellation-notice` component is a form input for the description of an event.\n * @part nmcn - The minimum cancellation notice container\n * @part nmcn__number-dropdown - The number dropdown container\n * @part nmcn__number-dropdown-button - The number dropdown button\n * @part nmcn__number-dropdown-content - The number dropdown content\n * @part nmcn__period-dropdown - The period dropdown container\n * @part nmcn__period-dropdown-button - The period dropdown button\n * @part nmcn__period-dropdown-content - The period dropdown content\n */\n@Component({\n  tag: 'nylas-min-cancellation-notice',\n  styleUrl: 'nylas-min-cancellation-notice.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasMinCancellationNotice {\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The minimum cancellation notice stored in the configuration\n   */\n  @Prop() minCancellationNotice?: number;\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n  /**\n   * The host element <nylas-min-cancellation-notice>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The name of the min cancellation notice input.\n   */\n  @Prop() name: string = 'min-cancellation-notice';\n\n  /**\n   * The selected number of minutes for the min cancellation notice.\n   */\n  @State() selectedNumber: number = 1;\n  /**\n   * The selected period for the min cancellation notice.\n   */\n  @State() selectedPeriod: string = 'day';\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-min-cancellation-notice', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newVal: Configuration) {\n    const minCancellationNotice = newVal?.scheduler?.min_cancellation_notice;\n    if (minCancellationNotice) {\n      this.updateNumberAndPeriodFromMinutes(minCancellationNotice);\n    }\n  }\n\n  @Watch('availableDaysInFuture')\n  availableDaysInFutureChanged(newValue: number) {\n    this.updateNumberAndPeriodFromMinutes(newValue);\n  }\n\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-min-cancellation-notice', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-min-cancellation-notice', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-min-cancellation-notice', 'componentDidLoad');\n    this.availableDaysInFutureChanged(this.minCancellationNotice ?? 1);\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(this.minCancellationNotice?.toString() ?? '1', this.name);\n  }\n\n  disconnectedCallback() {\n    debug('nylas-min-cancellation-notice', 'disconnectedCallback');\n  }\n\n  @Listen('timePeriodChanged')\n  timePeriodChangedHandler(\n    event: CustomEvent<{\n      number: number;\n      period: string;\n    }>,\n  ) {\n    const { number, period } = event.detail;\n    let totalMinutes;\n    const minutesInHour = 60;\n    const minutesInDay = minutesInHour * 24;\n    const minutesInWeek = minutesInDay * 7;\n    const minutesInMonth = minutesInDay * 30; // Assuming 30 days in a month for simplification\n\n    if (period === 'minute') {\n      totalMinutes = number;\n    } else if (period === 'hour') {\n      totalMinutes = number * minutesInHour;\n    } else if (period === 'day') {\n      totalMinutes = number * minutesInDay;\n    } else if (period === 'week') {\n      totalMinutes = number * minutesInWeek;\n    } else if (period === 'month') {\n      totalMinutes = number * minutesInMonth;\n    } else {\n      totalMinutes = 0;\n    }\n    this.valueChanged.emit({ value: totalMinutes, name: 'minCancellationNotice' });\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(totalMinutes.toString(), this.name);\n  }\n\n  private updateNumberAndPeriodFromMinutes(minutes: number): void {\n    const minutesInHour = 60;\n    const minutesInDay = minutesInHour * 24;\n    const minutesInWeek = minutesInDay * 7;\n    const minutesInMonth = minutesInDay * 30; // Assuming 30 days in a month for simplification\n    let number, period;\n    if (minutes >= minutesInMonth) {\n      number = Math.floor(minutes / minutesInMonth);\n      period = 'month';\n    } else if (minutes >= minutesInWeek) {\n      number = Math.floor(minutes / minutesInWeek);\n      period = 'week';\n    } else if (minutes >= minutesInDay) {\n      number = Math.floor(minutes / minutesInDay);\n      period = 'day';\n    } else if (minutes >= minutesInHour) {\n      number = Math.floor(minutes / minutesInHour);\n      period = 'hour';\n    } else {\n      number = minutes;\n      period = 'minute';\n    }\n    this.selectedNumber = number;\n    this.selectedPeriod = period;\n  }\n\n  @RegisterComponent<NylasMinCancellationNotice, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-min-cancellation-notice',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-min-cancellation-notice\" part=\"nmcn\">\n          <label>\n            Minimum cancellation notice\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Set the minimum amount of time required to cancel an event.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          <time-period-selector\n            id=\"min-cancellation-notice\"\n            exportparts=\"tps__number-dropdown: nmcn__number-dropdown, tps__number-dropdown-button: nmcn__number-dropdown-button, tps__number-dropdown-content: nmcn__number-dropdown-content, tps__period-dropdown: nmcn__period-dropdown, tps__period-dropdown-button: nmcn__period-dropdown-button, tps__period-dropdown-content: nmcn__period-dropdown-content\"\n            timePeriods={['minute', 'hour', 'day', 'week']}\n            defaultSelectedNumber={this.selectedNumber}\n            defaultSelectedPeriod={this.selectedPeriod}\n          />\n        </div>\n      </Host>\n    );\n  }\n}\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_customParseFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},t=/(\\[[^[]*\\])|([-_:/.,()\\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\\d\\d/,r=/\\d\\d?/,i=/\\d*[^-_:/,()\\s\\d]+/,o={},s=function(e){return(e=+e)+(e>68?1900:2e3)};var a=function(e){return function(t){this[e]=+t}},f=[/[+-]\\d\\d:?(\\d\\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if(\"Z\"===e)return 0;var t=e.match(/([+-]|\\d\\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:\"+\"===t[0]?-n:n}(e)}],h=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?\"pm\":\"PM\");return n},d={A:[i,function(e){this.afternoon=u(e,!1)}],a:[i,function(e){this.afternoon=u(e,!0)}],S:[/\\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\\d{3}/,function(e){this.milliseconds=+e}],s:[r,a(\"seconds\")],ss:[r,a(\"seconds\")],m:[r,a(\"minutes\")],mm:[r,a(\"minutes\")],H:[r,a(\"hours\")],h:[r,a(\"hours\")],HH:[r,a(\"hours\")],hh:[r,a(\"hours\")],D:[r,a(\"day\")],DD:[n,a(\"day\")],Do:[i,function(e){var t=o.ordinal,n=e.match(/\\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\\[|\\]/g,\"\")===e&&(this.day=r)}],M:[r,a(\"month\")],MM:[n,a(\"month\")],MMM:[i,function(e){var t=h(\"months\"),n=(h(\"monthsShort\")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=h(\"months\").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\\d+/,a(\"year\")],YY:[n,function(e){this.year=s(e)}],YYYY:[/\\d{4}/,a(\"year\")],Z:f,ZZ:f};function c(n){var r,i;r=n,i=o&&o.formats;for(var s=(n=r.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=s.length,f=0;f<a;f+=1){var h=s[f],u=d[h],c=u&&u[0],l=u&&u[1];s[f]=l?{regex:c,parser:l}:h.replace(/^\\[|\\]$/g,\"\")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var i=s[n];if(\"string\"==typeof i)r+=i.length;else{var o=i.regex,f=i.parser,h=e.slice(r),u=o.exec(h)[0];f.call(t,u),e=e.replace(u,\"\")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,s=e.args;this.$u=r;var a=s[1];if(\"string\"==typeof a){var f=!0===s[2],h=!0===s[3],u=f||h,d=s[2];h&&(d=s[2]),o=this.$locale(),!f&&d&&(o=n.Ls[d]),this.$d=function(e,t,n){try{if([\"x\",\"X\"].indexOf(t)>-1)return new Date((\"X\"===t?1e3:1)*e);var r=c(t)(e),i=r.year,o=r.month,s=r.day,a=r.hours,f=r.minutes,h=r.seconds,u=r.milliseconds,d=r.zone,l=new Date,m=s||(i||o?1:l.getDate()),M=i||l.getFullYear(),Y=0;i&&!o||(Y=o>0?o-1:l.getMonth());var p=a||0,v=f||0,D=h||0,g=u||0;return d?new Date(Date.UTC(M,Y,m,p,v,D,g+60*d.offset*1e3)):n?new Date(Date.UTC(M,Y,m,p,v,D,g)):new Date(M,Y,m,p,v,D,g)}catch(e){return new Date(\"\")}}(t,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date(\"\")),o={}}else if(a instanceof Array)for(var l=a.length,m=1;m<=l;m+=1){s[1]=a[m-1];var M=n.apply(this,s);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}m===l&&(this.$d=new Date(\"\"))}else i.call(this,e)}}}));","@import '../../../common/styles/variables.scss';\n:host {\n  display: block;\n  position: relative;\n  @include default-css-variables;\n}\n\n.time-picker {\n  display: inline-block;\n  width: 150px;\n  font-family: var(--nylas-font-family);\n  @media #{$mobile} {\n    width: auto;\n  }\n  position: relative;\n  input {\n    width: 150px;\n    height: 48px;\n    text-align: center;\n    font-size: 16px;\n    font-family: inherit;\n    @media #{$mobile} {\n      width: 88px;\n    }\n    @media #{$small-mobile} {\n      width: 68px;\n      font-size: 15px;\n    }\n    cursor: pointer;\n    background: transparent;\n    border: 1px solid var(--nylas-base-200);\n    border-radius: var(--nylas-border-radius-2x);\n    &.focus {\n      background: transparent;\n    }\n    &:hover,\n    &:active {\n      border: 1px solid var(--nylas-primary);\n    }\n    &:active {\n      outline: 2px solid var(--nylas-primary);\n    }\n    span {\n      &.open {\n        transform: rotate(90deg);\n      }\n      &.closed {\n        transform: rotate(270deg);\n      }\n    }\n    &.error {\n      border: 1px solid var(--nylas-error);\n    }\n  }\n  p.error {\n    color: var(--nylas-error);\n    font-size: 0.875rem;\n    margin: 0;\n  }\n}\n.times {\n  display: block;\n  margin-top: 0.5rem;\n  background-color: var(--nylas-base-0);\n  width: 100%;\n  max-height: 336px;\n  overflow: auto;\n  border: 1px solid #ddd;\n  z-index: 1;\n  border-radius: 4px;\n  position: absolute;\n  box-shadow: 0px 4px 6px -2px #0000000d;\n  box-shadow: 0px 10px 15px -3px #0000001a;\n  ul {\n    padding: 0;\n    list-style-type: none;\n    color: var(--nylas-base-900);\n    max-height: 336px;\n    li {\n      padding: 16px, 12px, 16px, 12px;\n      color: black;\n      padding: 12px 16px;\n      text-decoration: none;\n      display: block;\n      font-family: inherit;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 20px;\n      letter-spacing: 0px;\n      text-align: center;\n      cursor: pointer;\n      &.focused {\n        background-color: var(--nylas-base-100);\n      }\n      &:hover,\n      &:focus {\n        background-color: var(--nylas-base-100);\n      }\n      label {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n        input {\n          margin: 0;\n        }\n      }\n    }\n  }\n}\n","import { autocompleteTimeFormat, roundToNearest15Minutes, validateExactTimeFormat, validateTimeFormatInput } from '@/utils/utils';\nimport { Component, h, State, Prop, Event, EventEmitter, Listen, Element, Host, Watch } from '@stencil/core';\nimport dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\n\ndayjs.extend(customParseFormat);\n\ntype Time = { id: number; value: string };\n\n/**\n * The `nylas-time-window-picker` component is a time picker that can be used to select a time.\n * @part time-picker - The time picker container\n * @part time-input - The time input\n * @part times - The list of times\n */\n@Component({\n  tag: 'nylas-time-window-picker',\n  styleUrl: 'nylas-time-window-picker.scss',\n  shadow: true,\n})\nexport class TimeInput {\n  @Element() el!: HTMLElement;\n  private timeInput!: HTMLInputElement;\n  private timeMenu!: HTMLElement;\n\n  /**\n   * The time to display in the input.\n   * This is passed by the parent component and can be updated\n   * using the setTime prop function provided by the parent component.\n   */\n  @Prop() time!: string;\n  /**\n   * This is the start time value if one is set by the parent component.\n   * It is useful if this component is used to render an end time which\n   * should not be before the start time, defining the earliest selectable time.\n   */\n  @Prop() minimumStartTime: string | null = null;\n\n  /**\n   * The placeholder text for the input.\n   */\n  @Prop() placeholder: string = 'hh:mmam/pm';\n  /**\n   * The name of the input.\n   */\n  @Prop() name!: string;\n  /**\n   * This sets the error state of the input.\n   */\n  @Prop() hasError: boolean = false;\n\n  /**\n   * The error message to display if the time is invalid.\n   */\n  @State() err: string = '';\n  /**\n   * Toggle to show the list of times.\n   */\n  @State() showTimes: boolean = false;\n  /**\n   * The aria-activedescendant attribute for the listbox element to indicate the currently active\n   * option in the list box to screen readers. The value of aria-activedescendant is the ID of\n   * the active option.\n   */\n  @State() ariaActivedescendant: string = '';\n  /**\n   * The list of times to display in the dropdown.\n   */\n  @State() times: Time[] = this.generateTimes();\n  /**\n   * This is used to scroll to the selected time when the time is changed.\n   */\n  @State() shouldAutoScroll: boolean = false;\n\n  /**\n   * This event is fired when the time is changed.\n   */\n  @Event() timeChange!: EventEmitter<{\n    key: string;\n    value: string;\n  }>;\n\n  /**\n   * This event is fired when the form has an error. The parent component\n   * can listen for this event and display an error message or set form validity.\n   */\n  @Event() formError!: EventEmitter<{\n    key: string;\n    message: string;\n  }>;\n\n  // Event listeners\n  @Listen('click', { target: 'document' })\n  handleOutsideClick(event: MouseEvent) {\n    // Get the path of the event\n    const path = event.composedPath();\n\n    // Check if the path includes the host element\n    const isClickInside = path.includes(this.el);\n\n    if (!isClickInside && this.showTimes) {\n      this.showTimes = false;\n    }\n  }\n\n  @Watch('minimumStartTime')\n  minimumStartTimeChangedHandler() {\n    if (this.minimumStartTime) {\n      let formattedTime = dayjs()\n        .hour(parseInt(this.minimumStartTime))\n        .minute(parseInt(this.minimumStartTime.slice(-4, -2)));\n      if (this.minimumStartTime.slice(-2).toLowerCase() === 'pm' && parseInt(this.minimumStartTime) !== 12) {\n        formattedTime = formattedTime.add(12, 'hour');\n      } else if (this.minimumStartTime.slice(-2).toLowerCase() === 'am' && parseInt(this.minimumStartTime) === 12) {\n        formattedTime = formattedTime.subtract(12, 'hour');\n      }\n\n      this.times = this.generateTimes();\n      const firstTime = dayjs(this.times[0].value, 'hh:mma');\n      let selectedTimeFormatted = dayjs(this.time, 'hh:mma');\n      if (selectedTimeFormatted.isBefore(firstTime)) {\n        this.err = 'Invalid';\n        this.formError.emit({\n          key: this.el.id,\n          message: 'Invalid',\n        });\n      }\n    }\n  }\n\n  componentDidRender() {\n    if (this.showTimes && this.shouldAutoScroll) {\n      const autocompletedTime = autocompleteTimeFormat(this.time);\n      const optionIndex = this.times.findIndex(time => time.value === autocompletedTime);\n      if (optionIndex > -1) {\n        this.shouldAutoScroll = false;\n        this.scrollToViewWithinParent(optionIndex);\n      }\n      return;\n    }\n  }\n\n  private handleTimeChange(_e: Event, input: string) {\n    const timePart = input.split(':');\n    if (timePart[0] === '00' && timePart[1].slice(-2) == 'pm') {\n      this.err = 'Invalid';\n      this.formError.emit({\n        key: this.el.id,\n        message: 'Invalid',\n      });\n    }\n    if (!validateTimeFormatInput(input)) {\n      this.err = 'Invalid';\n      this.formError.emit({\n        key: this.el.id,\n        message: 'Invalid',\n      });\n    } else {\n      this.err = '';\n      this.formError.emit({\n        key: this.el.id,\n        message: '',\n      });\n    }\n    this.timeChange.emit({\n      key: this.el.id,\n      value: input,\n    });\n  }\n\n  private handleTimeAutocomplete(event: Event) {\n    const input = (event.target as HTMLInputElement)?.value;\n    if (!validateTimeFormatInput(input)) {\n      this.err = 'Invalid';\n      this.formError.emit({\n        key: this.el.id,\n        message: 'Invalid',\n      });\n      return;\n    }\n    if (input === '') {\n      const newTime = roundToNearest15Minutes().format('hh:mma');\n      this.timeChange.emit({\n        key: this.el.id,\n        value: newTime,\n      });\n      return;\n    }\n    if (!validateExactTimeFormat(input)) {\n      const autocompletedTime = autocompleteTimeFormat(input);\n      this.timeChange.emit({\n        key: this.el.id,\n        value: autocompletedTime,\n      });\n      return;\n    }\n    this.timeChange.emit({\n      key: this.el.id,\n      value: input,\n    });\n  }\n\n  private handleOnInput(event: Event) {\n    const input = (event.target as HTMLInputElement)?.value;\n    if (!validateTimeFormatInput(input)) {\n      return;\n    }\n    if (input === '') {\n      const newTime = roundToNearest15Minutes().format('hh:mma');\n      const optionIndex = this.times.findIndex(time => time.value === newTime);\n      if (optionIndex > -1) {\n        this.scrollToViewWithinParent(optionIndex);\n      }\n      return;\n    }\n    if (!validateExactTimeFormat(input)) {\n      const autocompletedTime = autocompleteTimeFormat(input);\n      const optionIndex = this.times.findIndex(time => time.value === autocompletedTime);\n      if (optionIndex > -1) {\n        this.scrollToViewWithinParent(optionIndex);\n      }\n      return;\n    }\n  }\n\n  private generateTimes() {\n    const times: Time[] = [];\n    let startTime = dayjs().set('hour', 0).set('minute', 0).set('second', 0); // Set to 12:00 am\n    if (this.minimumStartTime) {\n      startTime = dayjs(this.minimumStartTime, 'hh:mma');\n    }\n    const diff = startTime.endOf('day').diff(startTime, 'minutes');\n    const iterations = Math.round(diff / 15);\n    for (let i = 0; i < iterations + 1; i++) {\n      // 96 represents the total number of 15-minute increments in a day (24 hours * 60 minutes / 15 minutes)\n      const time = startTime.add(i * 15, 'minute');\n      if (i == iterations && time.format('hh:mma').includes('am')) {\n        break;\n      }\n      times.push({ id: i, value: time.format('hh:mma') });\n    }\n    return times;\n  }\n\n  private handleComboboxKeyDown(event: KeyboardEvent): void {\n    if (event.key === 'ArrowDown') {\n      event.preventDefault();\n      if (!this.showTimes) {\n        this.showTimes = true;\n        this.shouldAutoScroll = true;\n        return;\n      }\n      if (this.ariaActivedescendant === '') {\n        this.ariaActivedescendant = this.times[0].id.toString();\n        this.focusOption(0);\n      } else {\n        const currentIndex = this.times.findIndex(time => time.id.toString() === this.ariaActivedescendant);\n        const nextIndex = currentIndex + 1 < this.times.length ? currentIndex + 1 : 0;\n        this.ariaActivedescendant = this.times[nextIndex].id.toString();\n        this.focusOption(nextIndex);\n      }\n    } else if (event.key === 'ArrowUp') {\n      event.preventDefault();\n      if (this.ariaActivedescendant === '') {\n        this.ariaActivedescendant = this.times[this.times.length - 1].id.toString();\n        this.focusOption(this.times.length - 1);\n      } else {\n        const currentIndex = this.times.findIndex(time => time.id.toString() === this.ariaActivedescendant);\n        const prevIndex = currentIndex - 1 >= 0 ? currentIndex - 1 : this.times.length - 1;\n        this.ariaActivedescendant = this.times[prevIndex].id.toString();\n        this.focusOption(prevIndex);\n      }\n    } else if (event.key === 'Escape') {\n      this.showTimes = false;\n      this.timeInput.focus();\n    }\n  }\n\n  private handleListboxKeydown(e: KeyboardEvent) {\n    const items = this.times;\n    const currentIndex = items.findIndex(item => item.id.toString() === this.ariaActivedescendant);\n\n    if (e.key === 'ArrowDown' || (e.key === 'Tab' && !e.shiftKey)) {\n      e.preventDefault();\n      const nextIndex = currentIndex + 1 < items.length ? currentIndex + 1 : 0;\n      this.ariaActivedescendant = items[nextIndex].id.toString();\n      this.focusOption(nextIndex);\n    } else if (e.key === 'ArrowUp' || (e.key === 'Tab' && e.shiftKey)) {\n      e.preventDefault();\n      const prevIndex = currentIndex - 1 >= 0 ? currentIndex - 1 : items.length - 1;\n      this.ariaActivedescendant = items[prevIndex].id.toString();\n      this.focusOption(prevIndex);\n    } else if (e.key === 'Enter') {\n      e.preventDefault();\n      if (this.ariaActivedescendant) {\n        const option = items[currentIndex];\n        this.handleTimeChange(e, option.value);\n        this.showTimes = false;\n        this.ariaActivedescendant = '';\n        this.timeInput.focus();\n      }\n    } else if (e.key === 'Escape') {\n      this.showTimes = false;\n      this.timeInput.focus();\n    }\n  }\n\n  scrollToViewWithinParent(optionIndex: number) {\n    const option = this.times[optionIndex];\n    const childElement = this.el.shadowRoot?.getElementById(option.id.toString()) as HTMLLIElement;\n    const parentElement = this.timeMenu;\n\n    this.ariaActivedescendant = option.id.toString();\n\n    // Scroll child into view within parent\n    const childRect = childElement.getBoundingClientRect();\n    const parentRect = parentElement.getBoundingClientRect();\n\n    if (childRect.top < parentRect.top) {\n      // Child is above the visible area of the parent\n      parentElement.scrollTop -= parentRect.top - childRect.top;\n    } else if (childRect.bottom > parentRect.bottom) {\n      // Child is below the visible area of the parent\n      parentElement.scrollTop += childRect.bottom - parentRect.bottom;\n    }\n\n    if (childRect.left < parentRect.left) {\n      // Child is to the left of the visible area of the parent\n      parentElement.scrollLeft -= parentRect.left - childRect.left;\n    } else if (childRect.right > parentRect.right) {\n      // Child is to the right of the visible area of the parent\n      parentElement.scrollLeft += childRect.right - parentRect.right;\n    }\n  }\n\n  focusOption(index: number) {\n    const option = this.times[index];\n    if (!option) return; // Guard clause in case index is out of bounds\n\n    const elementId = option.id.toString();\n    const element = this.el.shadowRoot?.getElementById(elementId) as HTMLLIElement;\n\n    if (element) {\n      element.focus(); // Set focus on the element\n      element.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"time-picker\" part=\"time-picker\">\n          <input\n            type=\"text\"\n            name={this.name}\n            id={this.name}\n            part=\"time-input\"\n            class={{\n              'time-input': true,\n              'error': !!this.err || this.hasError,\n            }}\n            ref={el => (this.timeInput = el as HTMLInputElement)}\n            value={this.time}\n            onClick={() => {\n              this.showTimes = true;\n              this.shouldAutoScroll = true;\n            }}\n            aria-haspopup=\"listbox\"\n            aria-label={this.name}\n            aria-expanded={this.showTimes ? 'true' : 'false'}\n            placeholder={this.placeholder}\n            onKeyDown={e => this.handleComboboxKeyDown(e)}\n            onInput={event => this.handleOnInput(event)}\n            onBlur={event => this.handleTimeAutocomplete(event)}\n          />\n          {this.err && <div class=\"invalid-time-icon\">{/* Icon here */}</div>}\n          {this.showTimes && (\n            <div class=\"times\" part=\"times\" ref={el => (this.timeMenu = el as HTMLElement)}>\n              <ul tabindex=\"-1\" role=\"listbox\" aria-label={this.name} aria-activedescendant={this.ariaActivedescendant} onKeyDown={e => this.handleListboxKeydown(e)}>\n                {this.times.map(option => (\n                  <li\n                    tabindex=\"0\"\n                    key={option.id}\n                    id={option.id.toString()}\n                    class={{\n                      focused: this.ariaActivedescendant === option.id.toString(),\n                    }}\n                    onClick={e => {\n                      this.handleTimeChange(e, option.value);\n                      this.showTimes = false;\n                      this.timeInput.focus();\n                    }}\n                    role=\"option\"\n                  >\n                    {`${option.value}`}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n          {!this.showTimes && this.err && (\n            <p class=\"error\" id=\"email-error\">\n              {this.err}\n            </p>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}