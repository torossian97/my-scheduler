import{r as e,c as t,h as a,H as r}from"./p-68c2fadf.js";import{R as o}from"./p-8b53becf.js";import{a as i,b as n,c as s}from"./p-01e86103.js";import"./p-cb65c223.js";const l=':host{display:block;font-size:var(--nylas-font-size, inherit);font-family:var(--nylas-font-family, inherit)}.list-thread{display:grid;grid-auto-flow:row;color:var(--nylas-color-primary-800);width:100%}.thread{position:relative;width:100%;display:grid;padding:0.5rem 1rem;column-gap:0.25rem;grid-template-areas:"........ from    count   ....... date actions" "checkbox subject subject subject subject actions" "........ snippet snippet snippet snippet actions";grid-template-columns:auto auto auto auto auto auto;margin-bottom:0.75rem;border-radius:var(--nylas-border-radius-2x);color:var(--nylas-color-primary-00);background-color:var(--nylas-color-primary-50);border:0;box-sizing:border-box;text-align:left;cursor:pointer;box-shadow:1px 1px 3px 0px rgba(0, 0, 0, 0.3);font-size:inherit;font-family:inherit}.thread.loading{animation:pulsate 1.5s infinite ease-in-out;width:100%;height:90px}.thread:last-of-type{margin-bottom:0}.thread.selected{box-shadow:0 2px 0 0 var(--nylas-color-primary-200);background-color:var(--nylas-color-primary-100)}.thread:hover{box-shadow:0 2px 0 0 var(--nylas-color-primary-200);background-color:var(--nylas-color-primary-100)}.thread>div{align-self:center;pointer-events:all !important}.thread .actions{grid-area:actions}.thread .actions sp-action-menu{pointer-events:initial !important}.thread .actions sp-action-button{pointer-events:initial !important}.thread .actions sp-menu-item{pointer-events:initial !important}.thread .checkbox{grid-area:checkbox;margin-right:0.5rem;pointer-events:initial !important}.thread .checkbox sp-checkbox{pointer-events:initial !important}.thread .star{grid-area:star;justify-self:end}.thread .from{grid-area:from;color:var(--nylas-color-primary-600)}.thread .count{grid-area:count;color:var(--nylas-color-primary-600)}.thread .subject{grid-area:subject;color:var(--nylas-color-primary-600)}.thread .snippet{grid-area:snippet;color:var(--nylas-color-primary-500)}.thread .date{grid-area:date;align-self:center;color:var(--nylas-color-primary-500)}.thread.unread .from,.thread.unread .count,.thread.unread .subject,.thread.unread .date{font-weight:600;color:var(--nylas-color-primary-800)}.thread.unread .snippet{color:var(--nylas-color-primary-700)}.thread .from{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.thread .snippet{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.thread .subject{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media only screen and (min-width: 768px){.thread{column-gap:1rem;grid-template-areas:"checkbox from count subject snippet date actions";grid-template-columns:auto minmax(auto, 200px) auto auto 1fr auto auto;margin-bottom:0.5rem;border:1px solid var(--nylas-color-primary-100)}.thread.no-checkbox{grid-template-areas:"from count subject snippet date actions";grid-template-columns:minmax(auto, 200px) auto auto 1fr auto auto}.thread .checkbox{margin-right:0}}@keyframes pulsate{0%{background-color:var(--nylas-color-primary-50)}50%{background-color:var(--nylas-color-primary-100)}100%{background-color:var(--nylas-color-primary-50)}}';const d=l;var c=undefined&&undefined.__decorate||function(e,t,a,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,a):r,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,a,r);else for(var s=e.length-1;s>=0;s--)if(n=e[s])i=(o<3?n(i):o>3?n(t,a,i):n(t,a))||i;return o>3&&i&&Object.defineProperty(t,a,i),i};var p=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};const h=class{constructor(a){e(this,a);this.threadSelected=t(this,"threadSelected",7);this.handleThreadSelected=async e=>{i(`[nylas-list-threads] Thread selected`,{thread:e});const t=this.threadSelected.emit(e);if(!t.defaultPrevented){i(`[nylas-list-threads] Default event not prevented, selecting thread`)}};this.handleCheckboxClick=async e=>{i(`[nylas-list-threads] Checkbox clicked`,{event:e});e.stopPropagation()};this.threads=[];this.isAuthenticated=false;this.tokenInfo=undefined;this.state="ready";this.showCheckbox=false}connectedCallback(){}disconnectedCallback(){}async componentWillLoad(){i(`[nylas-list-threads] Component will load`)}async componentDidLoad(){i(`[nylas-list-threads] Component did load`,{isAuthenticated:this.isAuthenticated})}render(){return a(r,{key:"f943d924f47f9e1133bf87fcd32ee78e5b9bbf01"},a("div",{key:"2159737dbb20305da9f966959d9da7a1830b9b2b",class:"list-thread",part:"list-thread"},this.state==="loading"&&new Array(10).fill(0).map(((e,t)=>a("div",{class:"thread loading",style:{animationDelay:`${t*20}ms`}}))),this.state==="ready"&&this.threads.map((e=>a("button",{key:e?.id,class:{thread:true,unread:e?.unread===true,"no-checkbox":this.showCheckbox===false},part:"thread","aria-label":`Thread with subject ${e?.subject}`,onClick:()=>this.handleThreadSelected(e)},this.showCheckbox&&a("div",{class:"checkbox",part:"checkbox"},a("sp-checkbox",{size:"s",value:e?.id,onClick:this.handleCheckboxClick})),a("div",{class:"from",part:"from"},n(e.participants??[],this.tokenInfo?.email,e?.message_ids?.length||1,1)),a("div",{class:"subject",part:"subject"},e?.subject),a("div",{class:"count",part:"count"},e?.message_ids?.length||1),a("div",{class:"snippet",part:"snippet"},e?.snippet?.trim()),e.latest_message_received_date&&a("div",{class:"date","aria-label":`${Intl.DateTimeFormat(undefined,{dateStyle:"full"}).format(new Date(e.latest_message_received_date*1e3))}`,part:"date"},s(e.latest_message_received_date)))))))}};c([o({name:"nylas-list-threads",stateToProps:new Map([["auth.isAuthenticated","isAuthenticated"],["auth.tokenInfo","tokenInfo"],["mailbox.threads","threads"],["mailbox.state","state"]]),eventToProps:{threadSelected:async(e,t)=>{i(`[nylas-list-threads] Thread selected`,{event:e});await t.threads.selectThread(e.detail)}},fireRegisterEvent:true}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],h.prototype,"render",null);h.style=d;export{h as nylas_list_threads};
//# sourceMappingURL=p-b302fbb1.entry.js.map