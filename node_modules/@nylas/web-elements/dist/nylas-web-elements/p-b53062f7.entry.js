import{r as e,h as t,c as s,a as i}from"./p-68c2fadf.js";const a=".sc-chevron-icon-h{display:flex}";const n=a;const o=class{constructor(t){e(this,t);this.width="24";this.height="24"}render(){return t("svg",{key:"4237d5be45ec5b20c76f6132347abbbff3db30d3",xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height,viewBox:"0 0 24 24",fill:"none"},t("path",{key:"3d68979af03e88ecb6725fefbd1a4d9af22aa727",fill:"currentColor",d:"M15.53 4.22a.75.75 0 0 1 0 1.06L8.81 12l6.72 6.72a.75.75 0 1 1-1.06 1.06l-7.25-7.25a.75.75 0 0 1 0-1.06l7.25-7.25a.75.75 0 0 1 1.06 0Z"}))}};o.style=n;const r=".sc-search-icon-h{display:flex}";const d=r;const l=class{constructor(t){e(this,t);this.width="15";this.height="15"}render(){return t("svg",{key:"b76a09acee253e0c56da191a277aeb941b7660ae",width:this.width,height:this.height,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t("path",{key:"d93a8a5b63a57e7a62909e5039654d399424bb0c",fill:"currentColor",d:"M5.5 0C8.53757 0 11 2.46243 11 5.5C11 6.83879 10.5217 8.06586 9.72656 9.01962L13.8536 13.1464C14.0488 13.3417 14.0488 13.6583 13.8536 13.8536C13.68 14.0271 13.4106 14.0464 13.2157 13.9114L13.1464 13.8536L9.01962 9.72656C8.06586 10.5217 6.83879 11 5.5 11C2.46243 11 0 8.53757 0 5.5C0 2.46243 2.46243 0 5.5 0ZM5.5 1C3.01472 1 1 3.01472 1 5.5C1 7.98528 3.01472 10 5.5 10C7.98528 10 10 7.98528 10 5.5C10 3.01472 7.98528 1 5.5 1Z"}))}};l.style=d;const h=':host{display:block;position:relative;--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif}@media screen and (max-width: 768px){:host{position:unset}}.dropdown{display:inline-block}.dropbtn{color:var(--nylas-base-800);padding:10px;font-size:1rem;font-family:var(--nylas-font-family);cursor:pointer;display:flex;gap:0.5rem;background:transparent;border:none;border-radius:var(--nylas-border-radius-2x)}.dropbtn.focus{background:transparent}.dropbtn:hover,.dropbtn:active{outline:1px solid var(--nylas-primary)}.dropbtn:active{outline:2px solid var(--nylas-primary)}.dropbtn span.chevron{display:flex;align-self:center}.dropbtn span.open{transform:rotate(90deg)}.dropbtn span.closed{transform:rotate(270deg)}.dropbtn span.selected-option{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:144px;font-size:14px;line-height:20px}@media screen and (max-width: 768px){.dropbtn span.selected-option{max-width:124px;font-size:16px}}.dropdown-content{display:block;margin-top:0.5rem;background-color:var(--nylas-base-0);max-width:306px;width:max-content;max-height:336px;overflow:auto;z-index:1;border-radius:4px;position:absolute;box-shadow:0px 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:0px 10px 15px -3px rgba(0, 0, 0, 0.1)}@media screen and (max-width: 768px){.dropdown-content{right:0;width:325px;max-width:unset}}.search-box{border-bottom:1px solid var(--nylas-base-200);padding:10px;position:sticky;top:0;background:var(--nylas-base-0)}.search-box .icon{position:absolute;top:1.25rem;left:1.25rem;color:var(--nylas-base-300)}.dropdown-content ul{padding:0;list-style-type:none;color:var(--nylas-base-900);max-height:336px}.dropdown-content ul li{padding:16px, 12px, 16px, 12px;color:black;padding:12px 16px;text-decoration:none;display:block;font-family:inherit;font-size:14px;font-weight:400;line-height:20px;letter-spacing:0px;text-align:left;cursor:pointer}.dropdown-content ul li:hover,.dropdown-content ul li:focus{background-color:var(--nylas-base-100)}.dropdown-content .selected{background-color:#e7e7e7}input[type=text]{width:-webkit-fill-available;padding:inherit;border:1px solid #ccc;border-radius:4px;position:sticky;background:no-repeat scroll 7px 7px;padding-left:30px;background-size:16px 16px}';const c=h;const p=class{constructor(t){e(this,t);this.selectedOptionChanged=s(this,"selectedOptionChanged",7);this.name=undefined;this.options=[];this.defaultSelectedOption=undefined;this.withSearch=true;this.pluralizedLabel="";this.selectedOption=this.defaultSelectedOption||null;this.isOpen=false;this.searchValue="";this.filteredOptions=[...this.options];this.ariaActivedescendant=""}optionsChangedHandler(e,t){if(e===t){return}this.filteredOptions=e}defaultSelectedOptionChangedHandler(e,t){if(e.label===t.label){return}this.selectedOption=e}componentWillLoad(){this.filteredOptions=this.options;if(!this.selectedOption&&!!this.defaultSelectedOption){this.selectedOption=this.defaultSelectedOption}if(!this.selectedOption&&this.options.length>0){this.selectedOption=this.options[0]}}toggleDropdown(){this.isOpen=!this.isOpen}filterOptions(e){const t=e.target.value;this.searchValue=t;this.filteredOptions=this.options.filter((e=>e.label.toLowerCase().includes(t.toLowerCase())))}selectOption(e){this.selectedOption=e;this.toggleDropdown();this.selectedOptionChanged.emit({value:e.value,name:this.name})}handleSelectButtonKeyDown(e){switch(e.key){case"ArrowDown":case"Enter":e.preventDefault();if(!this.isOpen){this.toggleDropdown()}this.inputRef?.focus();break;case"Escape":this.isOpen=false;break}}handleListboxKeydown(e){const t=this.filteredOptions;const s=t.findIndex((e=>e.value===this.ariaActivedescendant));if(e.key==="ArrowDown"||e.key==="Tab"&&!e.shiftKey){e.preventDefault();if(s===t.length-1){this.ariaActivedescendant="";this.inputRef?.focus();return}const i=s+1<t.length?s+1:0;this.ariaActivedescendant=t[i].value;this.focusOption(i)}else if(e.key==="ArrowUp"||e.key==="Tab"&&e.shiftKey){e.preventDefault();if(s===0){this.ariaActivedescendant="";this.inputRef?.focus();return}const i=s-1>=0?s-1:t.length-1;this.ariaActivedescendant=t[i].value;this.focusOption(i)}else if(e.key==="Enter"){e.preventDefault();if(this.ariaActivedescendant){this.selectOption(t[s])}}else if(e.key==="Escape"){this.isOpen=false}}focusOption(e){const t=this.filteredOptions[e];if(!t)return;const s=t.value;const i=this.el.shadowRoot?.getElementById(s);if(i){i.focus();i.scrollIntoView({behavior:"smooth",block:"nearest"})}}handleComboboxKeyDown(e){if(e.key==="ArrowDown"||e.key=="Tab"&&!e.shiftKey){e.preventDefault();this.ariaActivedescendant=this.filteredOptions[0].value;this.focusOption(0)}else if(e.key==="ArrowUp"||e.key==="Tab"&&e.shiftKey){e.preventDefault();this.ariaActivedescendant=this.filteredOptions[this.filteredOptions.length-1].value;this.focusOption(this.filteredOptions.length-1)}else if(e.key==="Escape"){this.isOpen=false}}handleOutsideClick(e){const t=e.composedPath();const s=t.includes(this.el);if(!s&&this.isOpen){this.isOpen=false}}render(){return t("div",{key:"4b92f2c224e4cb1ec751c8dd46ff5bd16883110a",class:"dropdown",part:"sd_dropdown"},t("button",{key:"de1f96fe628dc11b3b7991f65065ec1ae55372fa",part:"sd_dropdown-button",class:{dropbtn:true,open:this.isOpen},onClick:()=>this.toggleDropdown(),"aria-haspopup":"listbox","aria-expanded":this.isOpen?"true":"false","aria-label":this.name,onKeyDown:e=>this.handleSelectButtonKeyDown(e)},t("slot",{key:"05166ff83a6f0cbf3a63d79e257570c996c2972d",name:"select-icon","aria-hidden":"true"}),t("span",{key:"99d79f6d8969fa6e88092af65ed7438d06c70693",class:"selected-option",part:"sd_dropdown-button-selected-label"},this.selectedOption?.label?`${this.selectedOption?.label+this.pluralizedLabel}`:""),t("span",{key:"220bed22a19b8e73a0b5f420a95169b5593138a3",class:{open:this.isOpen,closed:!this.isOpen,chevron:true},"aria-hidden":"true"},t("chevron-icon",{key:"6ed5947377584f0adaa466c5f2c189e4795e72e2",width:"16",height:"16"}))),this.isOpen?t("div",{class:"dropdown-content",part:"sd_dropdown-content"},this.withSearch&&t("div",{class:{"search-box":true,open:this.isOpen}},t("search-icon",{width:"15",height:"15",class:"icon"}),t("input",{type:"text",role:"combobox",placeholder:"Search",value:this.searchValue,ref:e=>this.inputRef=e,onInput:e=>this.filterOptions(e),onKeyDown:e=>this.handleComboboxKeyDown(e)})),t("ul",{tabindex:"-1",role:"listbox","aria-label":this.name,"aria-activedescendant":this.ariaActivedescendant,onKeyDown:e=>this.handleListboxKeydown(e)},this.filteredOptions.map((e=>t("li",{tabindex:"0",key:e.value,id:e.value,onClick:()=>this.selectOption(e),role:"option"},e.labelHTML?e.labelHTML:e.label))))):null)}get el(){return i(this)}static get watchers(){return{options:["optionsChangedHandler"],defaultSelectedOption:["defaultSelectedOptionChangedHandler"]}}};p.style=c;export{o as chevron_icon,l as search_icon,p as select_dropdown};
//# sourceMappingURL=p-b53062f7.entry.js.map