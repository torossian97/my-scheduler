import{d as t}from"./p-01e86103.js";class e{constructor(t){this.defaultAuthArgs={};this.session=t}setActiveGrantId(t){this.activeGrantId=t}async request({method:e,path:s,body:n,headers:r}){try{const i=await this.session.fetch(`grants/me/${s}`,{method:e,headers:r?new Headers(r):undefined,body:n,...this.session.isMultiAccount()&&this.activeGrantId?{grant_id:this.activeGrantId}:{}});if(typeof i==="undefined"){throw new Error("Response is undefined")}return t(i)}catch(e){return t(null,{message:String(e)})}}async currentUser(){const t=this.session.isMultiAccount()?this.activeGrantId:undefined;const e=await this.session.getProfile(t);if(!e){return null}return{id:e.sub,email:e.email,name:e.name}}async authenticationUrl(t){let e=this.defaultAuthArgs||{};if(t){e={...e,...t}}return this.session.auth(e)}setDefaultAuthArgs(t){this.defaultAuthArgs=t}}export{e as N};
//# sourceMappingURL=p-0dabcb4d.js.map